<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="DEPARTAMENTO DE ENGENHARIA INFORMÁTICA">

<title>Multiplayer in Blueprints</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="multiplayer-blueprints_files/libs/clipboard/clipboard.min.js"></script>
<script src="multiplayer-blueprints_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="multiplayer-blueprints_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="multiplayer-blueprints_files/libs/quarto-html/popper.min.js"></script>
<script src="multiplayer-blueprints_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="multiplayer-blueprints_files/libs/quarto-html/anchor.min.js"></script>
<link href="multiplayer-blueprints_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="multiplayer-blueprints_files/libs/quarto-html/quarto-syntax-highlighting-a313454106abb36b187d67fd685a4dde.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="multiplayer-blueprints_files/libs/quarto-html/quarto-syntax-highlighting-dark-6a2ad6deeb442e8f1bcabcafb1ae24dc.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="multiplayer-blueprints_files/libs/quarto-html/quarto-syntax-highlighting-a313454106abb36b187d67fd685a4dde.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="multiplayer-blueprints_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="multiplayer-blueprints_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="multiplayer-blueprints_files/libs/bootstrap/bootstrap-fb5b4565ff3145dd1b26e86930ef6125.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="multiplayer-blueprints_files/libs/bootstrap/bootstrap-dark-5728c680d6ba92cfca0e0d92896af6a7.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="multiplayer-blueprints_files/libs/bootstrap/bootstrap-fb5b4565ff3145dd1b26e86930ef6125.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link active" data-scroll-target="#executive-summary">Executive Summary</a>
  <ul class="collapse">
  <li><a href="#what-youll-learn" id="toc-what-youll-learn" class="nav-link" data-scroll-target="#what-youll-learn">What You’ll Learn</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#time-estimate" id="toc-time-estimate" class="nav-link" data-scroll-target="#time-estimate">Time Estimate</a></li>
  </ul></li>
  <li><a href="#sec-networking-overview" id="toc-sec-networking-overview" class="nav-link" data-scroll-target="#sec-networking-overview"><span class="header-section-number">1</span> Networking Overview</a>
  <ul class="collapse">
  <li><a href="#understanding-network-communication" id="toc-understanding-network-communication" class="nav-link" data-scroll-target="#understanding-network-communication"><span class="header-section-number">1.1</span> Understanding Network Communication</a></li>
  <li><a href="#sec-plan-early" id="toc-sec-plan-early" class="nav-link" data-scroll-target="#sec-plan-early"><span class="header-section-number">1.2</span> Plan Early for Multiplayer</a>
  <ul class="collapse">
  <li><a href="#benefits-of-early-planning" id="toc-benefits-of-early-planning" class="nav-link" data-scroll-target="#benefits-of-early-planning"><span class="header-section-number">1.2.1</span> Benefits of Early Planning</a></li>
  </ul></li>
  <li><a href="#unreal-engine-networking-architecture" id="toc-unreal-engine-networking-architecture" class="nav-link" data-scroll-target="#unreal-engine-networking-architecture"><span class="header-section-number">1.3</span> Unreal Engine Networking Architecture</a></li>
  </ul></li>
  <li><a href="#client-server-gameplay-example" id="toc-client-server-gameplay-example" class="nav-link" data-scroll-target="#client-server-gameplay-example"><span class="header-section-number">2</span> Client-Server Gameplay Example</a>
  <ul class="collapse">
  <li><a href="#local-multiplayer-vs-networked-multiplayer" id="toc-local-multiplayer-vs-networked-multiplayer" class="nav-link" data-scroll-target="#local-multiplayer-vs-networked-multiplayer"><span class="header-section-number">2.1</span> Local Multiplayer vs Networked Multiplayer</a>
  <ul class="collapse">
  <li><a href="#player-1-fires-a-weapon" id="toc-player-1-fires-a-weapon" class="nav-link" data-scroll-target="#player-1-fires-a-weapon"><span class="header-section-number">2.1.1</span> Player 1 Fires a Weapon</a></li>
  <li><a href="#projectile-movement" id="toc-projectile-movement" class="nav-link" data-scroll-target="#projectile-movement"><span class="header-section-number">2.1.2</span> Projectile Movement</a></li>
  <li><a href="#projectile-collision" id="toc-projectile-collision" class="nav-link" data-scroll-target="#projectile-collision"><span class="header-section-number">2.1.3</span> Projectile Collision</a></li>
  </ul></li>
  <li><a href="#understanding-multiple-worlds" id="toc-understanding-multiple-worlds" class="nav-link" data-scroll-target="#understanding-multiple-worlds"><span class="header-section-number">2.2</span> Understanding Multiple Worlds</a></li>
  </ul></li>
  <li><a href="#sec-network-modes" id="toc-sec-network-modes" class="nav-link" data-scroll-target="#sec-network-modes"><span class="header-section-number">3</span> Network Modes</a>
  <ul class="collapse">
  <li><a href="#detailed-descriptions" id="toc-detailed-descriptions" class="nav-link" data-scroll-target="#detailed-descriptions"><span class="header-section-number">3.0.1</span> Detailed Descriptions</a></li>
  </ul></li>
  <li><a href="#server-types" id="toc-server-types" class="nav-link" data-scroll-target="#server-types"><span class="header-section-number">4</span> Server Types</a>
  <ul class="collapse">
  <li><a href="#listen-server-1" id="toc-listen-server-1" class="nav-link" data-scroll-target="#listen-server-1"><span class="header-section-number">4.1</span> Listen Server</a></li>
  <li><a href="#dedicated-server-1" id="toc-dedicated-server-1" class="nav-link" data-scroll-target="#dedicated-server-1"><span class="header-section-number">4.2</span> Dedicated Server</a></li>
  </ul></li>
  <li><a href="#replication" id="toc-replication" class="nav-link" data-scroll-target="#replication"><span class="header-section-number">5</span> Replication</a>
  <ul class="collapse">
  <li><a href="#actor-replication" id="toc-actor-replication" class="nav-link" data-scroll-target="#actor-replication"><span class="header-section-number">5.1</span> Actor Replication</a>
  <ul class="collapse">
  <li><a href="#replication-features-overview" id="toc-replication-features-overview" class="nav-link" data-scroll-target="#replication-features-overview"><span class="header-section-number">5.1.1</span> Replication Features Overview</a></li>
  <li><a href="#non-replicated-features" id="toc-non-replicated-features" class="nav-link" data-scroll-target="#non-replicated-features"><span class="header-section-number">5.1.2</span> Non-Replicated Features</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#debugging-profiling-and-testing" id="toc-debugging-profiling-and-testing" class="nav-link" data-scroll-target="#debugging-profiling-and-testing"><span class="header-section-number">6</span> Debugging, Profiling, and Testing</a></li>
  <li><a href="#replication-systems" id="toc-replication-systems" class="nav-link" data-scroll-target="#replication-systems"><span class="header-section-number">7</span> Replication Systems</a></li>
  <li><a href="#sec-networking-tips" id="toc-sec-networking-tips" class="nav-link" data-scroll-target="#sec-networking-tips"><span class="header-section-number">8</span> Networking Tips</a>
  <ul class="collapse">
  <li><a href="#rpc-best-practices" id="toc-rpc-best-practices" class="nav-link" data-scroll-target="#rpc-best-practices"><span class="header-section-number">8.1</span> RPC Best Practices</a>
  <ul class="collapse">
  <li><a href="#minimize-rpc-usage" id="toc-minimize-rpc-usage" class="nav-link" data-scroll-target="#minimize-rpc-usage"><span class="header-section-number">8.1.1</span> Minimize RPC Usage</a></li>
  <li><a href="#multicast-considerations" id="toc-multicast-considerations" class="nav-link" data-scroll-target="#multicast-considerations"><span class="header-section-number">8.1.2</span> Multicast Considerations</a></li>
  <li><a href="#server-side-logic" id="toc-server-side-logic" class="nav-link" data-scroll-target="#server-side-logic"><span class="header-section-number">8.1.3</span> Server-Side Logic</a></li>
  </ul></li>
  <li><a href="#reliability-guidelines" id="toc-reliability-guidelines" class="nav-link" data-scroll-target="#reliability-guidelines"><span class="header-section-number">8.2</span> Reliability Guidelines</a>
  <ul class="collapse">
  <li><a href="#input-bound-rpcs" id="toc-input-bound-rpcs" class="nav-link" data-scroll-target="#input-bound-rpcs"><span class="header-section-number">8.2.1</span> Input-Bound RPCs</a></li>
  <li><a href="#frequent-calls" id="toc-frequent-calls" class="nav-link" data-scroll-target="#frequent-calls"><span class="header-section-number">8.2.2</span> Frequent Calls</a></li>
  </ul></li>
  <li><a href="#optimization-strategies" id="toc-optimization-strategies" class="nav-link" data-scroll-target="#optimization-strategies"><span class="header-section-number">8.3</span> Optimization Strategies</a>
  <ul class="collapse">
  <li><a href="#function-recycling" id="toc-function-recycling" class="nav-link" data-scroll-target="#function-recycling"><span class="header-section-number">8.3.1</span> Function Recycling</a></li>
  <li><a href="#conditional-execution" id="toc-conditional-execution" class="nav-link" data-scroll-target="#conditional-execution"><span class="header-section-number">8.3.2</span> Conditional Execution</a></li>
  </ul></li>
  <li><a href="#critical-optimizations" id="toc-critical-optimizations" class="nav-link" data-scroll-target="#critical-optimizations"><span class="header-section-number">8.4</span> Critical Optimizations</a></li>
  <li><a href="#quick-reference-checklist" id="toc-quick-reference-checklist" class="nav-link" data-scroll-target="#quick-reference-checklist"><span class="header-section-number">8.5</span> Quick Reference Checklist</a></li>
  </ul></li>
  <li><a href="#multiplayer-in-blueprints" id="toc-multiplayer-in-blueprints" class="nav-link" data-scroll-target="#multiplayer-in-blueprints"><span class="header-section-number">9</span> Multiplayer in Blueprints</a>
  <ul class="collapse">
  <li><a href="#gameplay-framework-review" id="toc-gameplay-framework-review" class="nav-link" data-scroll-target="#gameplay-framework-review"><span class="header-section-number">9.1</span> Gameplay Framework Review</a>
  <ul class="collapse">
  <li><a href="#key-points-for-multiplayer-design" id="toc-key-points-for-multiplayer-design" class="nav-link" data-scroll-target="#key-points-for-multiplayer-design"><span class="header-section-number">9.1.1</span> Key Points for Multiplayer Design</a></li>
  </ul></li>
  <li><a href="#actor-replication-in-blueprints" id="toc-actor-replication-in-blueprints" class="nav-link" data-scroll-target="#actor-replication-in-blueprints"><span class="header-section-number">9.2</span> Actor Replication in Blueprints</a>
  <ul class="collapse">
  <li><a href="#authority" id="toc-authority" class="nav-link" data-scroll-target="#authority"><span class="header-section-number">9.2.1</span> Authority</a></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables"><span class="header-section-number">9.2.2</span> Variables</a></li>
  <li><a href="#spawning-and-destroying" id="toc-spawning-and-destroying" class="nav-link" data-scroll-target="#spawning-and-destroying"><span class="header-section-number">9.2.3</span> Spawning and Destroying</a></li>
  <li><a href="#event-replication" id="toc-event-replication" class="nav-link" data-scroll-target="#event-replication"><span class="header-section-number">9.2.4</span> Event Replication</a></li>
  <li><a href="#ownership" id="toc-ownership" class="nav-link" data-scroll-target="#ownership"><span class="header-section-number">9.2.5</span> Ownership</a></li>
  <li><a href="#events" id="toc-events" class="nav-link" data-scroll-target="#events"><span class="header-section-number">9.2.6</span> Events</a></li>
  <li><a href="#replication-behavior-tables" id="toc-replication-behavior-tables" class="nav-link" data-scroll-target="#replication-behavior-tables"><span class="header-section-number">9.2.7</span> Replication Behavior Tables</a></li>
  <li><a href="#join-in-progress-considerations" id="toc-join-in-progress-considerations" class="nav-link" data-scroll-target="#join-in-progress-considerations"><span class="header-section-number">9.2.8</span> Join-in-Progress Considerations</a></li>
  <li><a href="#reliability" id="toc-reliability" class="nav-link" data-scroll-target="#reliability"><span class="header-section-number">9.2.9</span> Reliability</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#hands-on" id="toc-hands-on" class="nav-link" data-scroll-target="#hands-on"><span class="header-section-number">10</span> Hands On</a>
  <ul class="collapse">
  <li><a href="#understanding-client-server-model" id="toc-understanding-client-server-model" class="nav-link" data-scroll-target="#understanding-client-server-model"><span class="header-section-number">10.1</span> Understanding Client-Server Model</a></li>
  <li><a href="#server-types-listen-vs-dedicated" id="toc-server-types-listen-vs-dedicated" class="nav-link" data-scroll-target="#server-types-listen-vs-dedicated"><span class="header-section-number">10.2</span> Server Types: Listen vs Dedicated</a></li>
  <li><a href="#replication-explained" id="toc-replication-explained" class="nav-link" data-scroll-target="#replication-explained"><span class="header-section-number">10.3</span> Replication Explained</a></li>
  <li><a href="#testing-multiplayer-in-editor" id="toc-testing-multiplayer-in-editor" class="nav-link" data-scroll-target="#testing-multiplayer-in-editor"><span class="header-section-number">10.4</span> Testing Multiplayer in Editor</a></li>
  </ul></li>
  <li><a href="#practical-examples" id="toc-practical-examples" class="nav-link" data-scroll-target="#practical-examples"><span class="header-section-number">11</span> Practical Examples</a>
  <ul class="collapse">
  <li><a href="#actor-replication-1" id="toc-actor-replication-1" class="nav-link" data-scroll-target="#actor-replication-1"><span class="header-section-number">11.1</span> 1. Actor Replication</a></li>
  <li><a href="#detecting-network-authority" id="toc-detecting-network-authority" class="nav-link" data-scroll-target="#detecting-network-authority"><span class="header-section-number">11.2</span> 2. Detecting Network Authority</a></li>
  <li><a href="#variable-replication" id="toc-variable-replication" class="nav-link" data-scroll-target="#variable-replication"><span class="header-section-number">11.3</span> 3. Variable Replication</a></li>
  <li><a href="#repnotify" id="toc-repnotify" class="nav-link" data-scroll-target="#repnotify"><span class="header-section-number">11.4</span> 4. RepNotify</a></li>
  <li><a href="#function-call-replication" id="toc-function-call-replication" class="nav-link" data-scroll-target="#function-call-replication"><span class="header-section-number">11.5</span> 5. Function Call Replication</a>
  <ul class="collapse">
  <li><a href="#multicast-functions" id="toc-multicast-functions" class="nav-link" data-scroll-target="#multicast-functions"><span class="header-section-number">11.5.1</span> Multicast Functions</a></li>
  <li><a href="#reliable-vs-unreliable" id="toc-reliable-vs-unreliable" class="nav-link" data-scroll-target="#reliable-vs-unreliable"><span class="header-section-number">11.5.2</span> Reliable vs Unreliable</a></li>
  <li><a href="#other-replication-options" id="toc-other-replication-options" class="nav-link" data-scroll-target="#other-replication-options"><span class="header-section-number">11.5.3</span> Other Replication Options</a></li>
  </ul></li>
  <li><a href="#network-relevancy" id="toc-network-relevancy" class="nav-link" data-scroll-target="#network-relevancy"><span class="header-section-number">11.6</span> 6. Network Relevancy</a>
  <ul class="collapse">
  <li><a href="#understanding-network-relevancy" id="toc-understanding-network-relevancy" class="nav-link" data-scroll-target="#understanding-network-relevancy"><span class="header-section-number">11.6.1</span> Understanding Network Relevancy</a></li>
  <li><a href="#the-problem-with-function-only-replication" id="toc-the-problem-with-function-only-replication" class="nav-link" data-scroll-target="#the-problem-with-function-only-replication"><span class="header-section-number">11.6.2</span> The Problem with Function-Only Replication</a></li>
  <li><a href="#the-problem-with-variable-only-replication" id="toc-the-problem-with-variable-only-replication" class="nav-link" data-scroll-target="#the-problem-with-variable-only-replication"><span class="header-section-number">11.6.3</span> The Problem with Variable-Only Replication</a></li>
  <li><a href="#the-solution-combined-approach" id="toc-the-solution-combined-approach" class="nav-link" data-scroll-target="#the-solution-combined-approach"><span class="header-section-number">11.6.4</span> The Solution: Combined Approach</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#sec-quick-reference" id="toc-sec-quick-reference" class="nav-link" data-scroll-target="#sec-quick-reference"><span class="header-section-number">12</span> Quick Reference Guide</a>
  <ul class="collapse">
  <li><a href="#replication-decision-tree" id="toc-replication-decision-tree" class="nav-link" data-scroll-target="#replication-decision-tree"><span class="header-section-number">12.1</span> Replication Decision Tree</a></li>
  <li><a href="#common-patterns" id="toc-common-patterns" class="nav-link" data-scroll-target="#common-patterns"><span class="header-section-number">12.2</span> Common Patterns</a>
  <ul class="collapse">
  <li><a href="#pattern-1-health-system" id="toc-pattern-1-health-system" class="nav-link" data-scroll-target="#pattern-1-health-system"><span class="header-section-number">12.2.1</span> Pattern 1: Health System</a></li>
  <li><a href="#pattern-2-item-pickup" id="toc-pattern-2-item-pickup" class="nav-link" data-scroll-target="#pattern-2-item-pickup"><span class="header-section-number">12.2.2</span> Pattern 2: Item Pickup</a></li>
  <li><a href="#pattern-3-weapon-fire" id="toc-pattern-3-weapon-fire" class="nav-link" data-scroll-target="#pattern-3-weapon-fire"><span class="header-section-number">12.2.3</span> Pattern 3: Weapon Fire</a></li>
  </ul></li>
  <li><a href="#replication-checklist" id="toc-replication-checklist" class="nav-link" data-scroll-target="#replication-checklist"><span class="header-section-number">12.3</span> Replication Checklist</a>
  <ul class="collapse">
  <li><a href="#actor-setup" id="toc-actor-setup" class="nav-link" data-scroll-target="#actor-setup"><span class="header-section-number">12.3.1</span> Actor Setup</a></li>
  <li><a href="#variable-setup" id="toc-variable-setup" class="nav-link" data-scroll-target="#variable-setup"><span class="header-section-number">12.3.2</span> Variable Setup</a></li>
  <li><a href="#function-setup" id="toc-function-setup" class="nav-link" data-scroll-target="#function-setup"><span class="header-section-number">12.3.3</span> Function Setup</a></li>
  </ul></li>
  <li><a href="#common-issues-solutions" id="toc-common-issues-solutions" class="nav-link" data-scroll-target="#common-issues-solutions"><span class="header-section-number">12.4</span> Common Issues &amp; Solutions</a></li>
  <li><a href="#blueprint-node-quick-access" id="toc-blueprint-node-quick-access" class="nav-link" data-scroll-target="#blueprint-node-quick-access"><span class="header-section-number">12.5</span> Blueprint Node Quick Access</a>
  <ul class="collapse">
  <li><a href="#essential-nodes" id="toc-essential-nodes" class="nav-link" data-scroll-target="#essential-nodes"><span class="header-section-number">12.5.1</span> Essential Nodes</a></li>
  </ul></li>
  <li><a href="#performance-tips" id="toc-performance-tips" class="nav-link" data-scroll-target="#performance-tips"><span class="header-section-number">12.6</span> Performance Tips</a></li>
  <li><a href="#testing-workflow" id="toc-testing-workflow" class="nav-link" data-scroll-target="#testing-workflow"><span class="header-section-number">12.7</span> Testing Workflow</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="header-section-number">12.8</span> Resources</a></li>
  </ul></li>
  <li><a href="#sec-exercises" id="toc-sec-exercises" class="nav-link" data-scroll-target="#sec-exercises"><span class="header-section-number">13</span> Exercises</a>
  <ul class="collapse">
  <li><a href="#exercise-requirements" id="toc-exercise-requirements" class="nav-link" data-scroll-target="#exercise-requirements"><span class="header-section-number">13.1</span> Exercise Requirements</a>
  <ul class="collapse">
  <li><a href="#project-setup" id="toc-project-setup" class="nav-link" data-scroll-target="#project-setup"><span class="header-section-number">13.1.1</span> 1. Project Setup 🎮</a></li>
  <li><a href="#multiplayer-configuration" id="toc-multiplayer-configuration" class="nav-link" data-scroll-target="#multiplayer-configuration"><span class="header-section-number">13.1.2</span> 2. Multiplayer Configuration 👥</a></li>
  <li><a href="#character-visualization" id="toc-character-visualization" class="nav-link" data-scroll-target="#character-visualization"><span class="header-section-number">13.1.3</span> 3. Character Visualization 🏃</a></li>
  <li><a href="#projectile-replication" id="toc-projectile-replication" class="nav-link" data-scroll-target="#projectile-replication"><span class="header-section-number">13.1.4</span> 4. Projectile Replication 🔫</a></li>
  <li><a href="#combat-system" id="toc-combat-system" class="nav-link" data-scroll-target="#combat-system"><span class="header-section-number">13.1.5</span> 5. Combat System 💥</a></li>
  </ul></li>
  <li><a href="#grading-criteria" id="toc-grading-criteria" class="nav-link" data-scroll-target="#grading-criteria"><span class="header-section-number">13.2</span> Grading Criteria</a></li>
  <li><a href="#submission-guidelines" id="toc-submission-guidelines" class="nav-link" data-scroll-target="#submission-guidelines"><span class="header-section-number">13.3</span> Submission Guidelines</a></li>
  <li><a href="#additional-challenges-optional" id="toc-additional-challenges-optional" class="nav-link" data-scroll-target="#additional-challenges-optional"><span class="header-section-number">13.4</span> Additional Challenges (Optional)</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="..\multiplayer-blueprints.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Multiplayer in Blueprints</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
<p class="subtitle lead">Assignment 3 - Game Engines II</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>DEPARTAMENTO DE ENGENHARIA INFORMÁTICA </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Invalid Date</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
📚 Course Information
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Course:</strong> Game Engines II<br>
<strong>Program:</strong> Undergraduate in Games and Multimedia<br>
<strong>Academic Year:</strong> 2023/2024 - 2nd Semester<br>
<strong>Institution:</strong> Departamento de Engenharia Informática</p>
</div>
</div>
<section id="executive-summary" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="executive-summary">Executive Summary</h2>
<p>This comprehensive guide covers <strong>multiplayer game development in Unreal Engine 5 using Blueprints</strong>. You will learn the fundamental concepts of networked multiplayer games, including the client-server architecture, replication systems, and best practices for creating responsive and synchronized gameplay experiences.</p>
<section id="what-youll-learn" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-youll-learn">What You’ll Learn</h3>
<div class="columns">
<div class="column" style="width:48%;">
<p><strong>Core Concepts:</strong></p>
<ul>
<li>🌐 Client-Server Architecture</li>
<li>🔄 Replication Systems</li>
<li>🎮 Network Modes</li>
<li>👤 Actor &amp; Variable Replication</li>
</ul>
</div><div class="column" style="width:48%;">
<p><strong>Practical Skills:</strong></p>
<ul>
<li>💻 Blueprint Networking</li>
<li>🔧 RPC Implementation</li>
<li>⚡ Performance Optimization</li>
<li>🐛 Debugging Multiplayer</li>
</ul>
</div>
</div>
</section>
<section id="prerequisites" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="prerequisites">Prerequisites</h3>
<ul>
<li>Basic understanding of Unreal Engine 5</li>
<li>Familiarity with Blueprint visual scripting</li>
<li>Understanding of game development concepts</li>
<li>Access to UE5 and ContentExamples project</li>
</ul>
</section>
<section id="time-estimate" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="time-estimate">Time Estimate</h3>
<p>📅 <strong>Estimated completion time:</strong> 8-12 hours (including exercises)</p>
<hr>
</section>
</section>
<section id="sec-networking-overview" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Networking Overview</h1>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🎮 Key Concept
</div>
</div>
<div class="callout-body-container callout-body">
<p>The UE5 framework is built with multiplayer gaming in mind. If you follow the basic framework conventions, you generally don’t have to do much to extend a single player experience to multiplayer.</p>
</div>
</div>
<p>UE5 networking is built around the <strong>server/client model</strong>. This means that there will be one server that is authoritative (makes all the important decisions), and this server will then make sure all connected clients are continually updated so that they maintain the most up to date approximation of the server’s world.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🖥️ Server Authority
</div>
</div>
<div class="callout-body-container callout-body">
<p>Even non-networked, single-player games have a server; the local machine acts as the server in these cases.</p>
</div>
</div>
<section id="understanding-network-communication" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="understanding-network-communication"><span class="header-section-number">1.1</span> Understanding Network Communication</h2>
<p>In multiplayer game sessions, game state information is communicated between multiple machines over a network connection. In contrast, single-player, local games store all game state information on a single machine.</p>
<div class="columns">
<div class="column" style="width:48%;">
<section id="single-player" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="single-player"><span class="header-section-number">1.1.1</span> Single-Player</h3>
<ul>
<li>All data on one machine</li>
<li>Instant communication</li>
<li>No network latency</li>
<li>Simple architecture</li>
</ul>
</section>
</div><div class="column" style="width:48%;">
<section id="multiplayer" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="multiplayer"><span class="header-section-number">1.1.2</span> Multiplayer</h3>
<ul>
<li>Data across multiple machines</li>
<li>Network delays</li>
<li>Synchronization challenges</li>
<li>Complex architecture</li>
</ul>
</section>
</div>
</div>
<p>Communication over a network connection makes creating multiplayer experiences inherently more complex than single-player experiences. The process of sharing information between players involves a different approach than a single-player game. Unreal Engine (UE) features a robust networking framework that powers some of the world’s most popular online multiplayer games to help you streamline this process.</p>
</section>
<section id="sec-plan-early" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="sec-plan-early"><span class="header-section-number">1.2</span> Plan Early for Multiplayer</h2>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
⚠️ Critical Planning Advice
</div>
</div>
<div class="callout-body-container callout-body">
<p>If there is any possibility that your project might need multiplayer features at any time, you should build all your gameplay with multiplayer in mind from the start of your project.</p>
</div>
</div>
<section id="benefits-of-early-planning" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="benefits-of-early-planning"><span class="header-section-number">1.2.1</span> Benefits of Early Planning</h3>
<p>If your team consistently implements the extra steps for creating multiplayer, the process of building gameplay will not consume much more time compared to a single-player game.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>✅ Easier debugging and maintenance</li>
<li>✅ Streamlined service updates</li>
<li>✅ Single-player functionality preserved</li>
<li>✅ Future-proof architecture</li>
</ul>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🔄 Cost of Refactoring
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you do not design your project with multiplayer in mind from the beginning, refactoring a codebase that you have already built without networking will require you to:</p>
<ol type="1">
<li>Comb through your entire project</li>
<li>Rewrite large sections of gameplay functionality</li>
<li>Reconsider your design due to technical obstacles (network speed, stability)</li>
<li>Potentially change your existing design</li>
</ol>
</div>
</div>
<p>Meanwhile, any gameplay programmed for multiplayer in UE will still work as expected in single-player, non-networked play.</p>
</section>
</section>
<section id="unreal-engine-networking-architecture" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="unreal-engine-networking-architecture"><span class="header-section-number">1.3</span> Unreal Engine Networking Architecture</h2>
<p>UE uses the client-server architecture for networked multiplayer games. There are two types of multiplayer games: local multiplayer and networked multiplayer. In a single-player or local multiplayer game, your game runs locally on a single machine as a standalone game. In this instance, all players, assets, and functionality exists and all input is processed on a single machine. Players connect input to this machine and control everything directly in the game. There is no potential issue with communicating input from a player to the game because the player is connected directly to the game instance and the game instance can promptly process all input.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://d1iv7db44yhgxn.cloudfront.net/documentation/images/ca5397ee-a048-4787-8ff6-2f5f75b30a30/localplayexample.png" class="img-fluid figure-img"></p>
<figcaption>Single-player and local multiplayer take place on only one machine.</figcaption>
</figure>
</div>
<p>In a networked multiplayer game, many players on distinct machines connect to a central machine across a network. The central machine, known as the server, hosts the multiplayer game while all the other players on different machines connect to the server as clients. The server shares game state information with each connected client and provides the means for all the players on different machines to communicate with one another.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://d1iv7db44yhgxn.cloudfront.net/documentation/images/e3bb0f45-1aab-41d6-b726-a43a53b707f4/networkplayexample.png" class="img-fluid figure-img"></p>
<figcaption>In networked multiplayer, the game takes place between a server and several connected clients. The server processes gameplay and the clients render the game to users.</figcaption>
</figure>
</div>
<p>As opposed to local multiplayer, this presents additional challenges. Different clients might have different network connection speeds and information must be communicated across a potentially unstable network where input might get lost. As a result, at any given time, the state of the game on one client machine is likely to be different than every other client machine. The server, as the host of the game, holds the one, true, authoritative game state. In other words, the server is where the multiplayer game is actually played. The clients each control remote Pawns that they own on the server. Clients send remote procedure calls from their local pawn to their server pawn to perform in game actions. The server then replicates information about the game state to each client such as where Actors are located, how these actors should behave, and what values different variables should have. Each client then uses this information to simulate a close approximation of what is actually happening on the server.</p>
</section>
</section>
<section id="client-server-gameplay-example" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Client-Server Gameplay Example</h1>
<p>This section provides a side-by-side comparison of two players in a multiplayer game to illustrate the differences between local and networked multiplayer. On the left, the two players are playing local multiplayer. On the right, the two players are playing networked multiplayer.</p>
<p><img src="https://d1iv7db44yhgxn.cloudfront.net/documentation/images/169bdea2-2b05-457b-adb3-c90a49c40c9d/localmultiplayerexample.png" class="img-fluid"></p>
<section id="local-multiplayer-vs-networked-multiplayer" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="local-multiplayer-vs-networked-multiplayer"><span class="header-section-number">2.1</span> Local Multiplayer vs Networked Multiplayer</h2>
<section id="player-1-fires-a-weapon" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="player-1-fires-a-weapon"><span class="header-section-number">2.1.1</span> Player 1 Fires a Weapon</h3>
<p><strong>Local Multiplayer:</strong></p>
<ul>
<li>Player 1’s Pawn responds to this by firing its current weapon.</li>
<li>Player 1’s weapon spawns a projectile and plays any accompanying sound or visual effects.</li>
</ul>
<p><strong>Networked Multiplayer:</strong></p>
<ul>
<li>Player 1’s local Pawn relays the command to fire the weapon to its connected Pawn on the server.</li>
<li>Player 1’s weapon on the server spawns a projectile.</li>
<li>The server notifies each connected client to create its own copy of Player 1’s projectile.</li>
<li>Player 1’s weapon on the server notifies each client to play the sound and visual effects associated with firing the weapon.</li>
</ul>
</section>
<section id="projectile-movement" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="projectile-movement"><span class="header-section-number">2.1.2</span> Projectile Movement</h3>
<p><strong>Local Multiplayer:</strong></p>
<ul>
<li>Player 1’s projectile moves forward from the weapon.</li>
</ul>
<p><strong>Networked Multiplayer:</strong></p>
<ul>
<li>Player 1’s projectile on the server moves forward from the weapon.</li>
<li>The server notifies each client to replicate the movement of Player 1’s projectile as it happens, so each client’s version of Player 1’s projectile also moves.</li>
</ul>
</section>
<section id="projectile-collision" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="projectile-collision"><span class="header-section-number">2.1.3</span> Projectile Collision</h3>
<p><strong>Local Multiplayer:</strong></p>
<ul>
<li>The collision triggers a function that destroys Player 1’s projectile, causes damage to Player 2’s pawn, and plays any accompanying sound and visual effects.</li>
<li>Player 2 plays an on-screen effect as a response to being damaged.</li>
</ul>
<p><strong>Networked Multiplayer:</strong></p>
<ul>
<li>The collision triggers a function that destroys Player 1’s projectile on the server.</li>
<li>The server automatically notifies each client to destroy their copy of Player 1’s projectile.</li>
<li>The collision triggers a function that notifies all clients to play the accompanying sound and visual effects for the collision.</li>
<li>Player 2’s pawn on the server takes damage from the projectile collision.</li>
<li>Player 2’s pawn on the server notifies Player 2’s client to play an on-screen effect as a response to being damaged.</li>
</ul>
</section>
</section>
<section id="understanding-multiple-worlds" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="understanding-multiple-worlds"><span class="header-section-number">2.2</span> Understanding Multiple Worlds</h2>
<p>In the local multiplayer game, these interactions all take place in the same world on the same machine, so they are simpler to understand and program compared to the networked multiplayer game. For example, when the game spawns an object, you can be assured that all players can see the object since they all exist in the same game world.</p>
<p>In the networked multiplayer game, these interactions take place in several different worlds:</p>
<ul>
<li>Authoritative world on the server</li>
<li>Player 1’s client world</li>
<li>Player 2’s client world</li>
<li>Additional worlds for any other clients connected to this server game instance</li>
</ul>
<p>Each world has its own player controllers, pawns, weapons, and projectiles. The server is where the game is actually played, but each client’s world must accurately replicate the events happening on the server, therefore it is necessary to selectively send information to each client to create an accurate visual representation of the world on the server.</p>
<p>This process introduces a division between essential gameplay interactions (collisions, movement, damage), cosmetic effects (visual effects and sounds), and player information (HUD updates). Each of these is relevant to a specific machine or set of machines in the network. The process of replicating this information is not entirely automated and you must specify what information is replicated to which machines in your gameplay programming. The primary challenges involve choosing what information you should replicate to which connections to provide a consistent experience for all players, but also to minimize the amount of information that is replicated so network bandwidth is not constantly saturated.</p>
</section>
</section>
<section id="sec-network-modes" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Network Modes</h1>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🔌 Network Mode Types
</div>
</div>
<div class="callout-body-container callout-body">
<p>UE5 supports four different network modes, each suited for specific use cases.</p>
</div>
</div>
<div id="tbl-network-modes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-network-modes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Network Mode Comparison
</figcaption>
<div aria-describedby="tbl-network-modes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 12%">
<col style="width: 27%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th>Network Mode</th>
<th>Icon</th>
<th>Description</th>
<th>Best Use Case</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>NM_Standalone</strong></td>
<td>🖥️</td>
<td>Server running on local machine, not accepting remote clients</td>
<td>Single-player or local multiplayer games</td>
</tr>
<tr class="even">
<td><strong>NM_DedicatedServer</strong></td>
<td>🌐</td>
<td>Server with no local players, optimized performance by discarding graphics/sound</td>
<td>Competitive MOBAs, MMOs, online shooters requiring high-performance, reliable servers</td>
</tr>
<tr class="odd">
<td><strong>NM_ListenServer</strong></td>
<td>👤🌐</td>
<td>Server hosting a local player while accepting remote connections</td>
<td>Casual cooperative/competitive multiplayer, user-hosted games</td>
</tr>
<tr class="even">
<td><strong>NM_Client</strong></td>
<td>💻</td>
<td>Not a server; connects to dedicated or listen server</td>
<td>Player connection to any multiplayer game</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<section id="detailed-descriptions" class="level3" data-number="3.0.1">
<h3 data-number="3.0.1" class="anchored" data-anchor-id="detailed-descriptions"><span class="header-section-number">3.0.1</span> Detailed Descriptions</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Standalone</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Dedicated Server</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Listen Server</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">Client</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><strong>NM_Standalone</strong> indicates a server running on a local machine and not accepting clients from remote machines.</p>
<ul>
<li>✅ Best for single-player games</li>
<li>✅ Best for local multiplayer</li>
<li>✅ Simplest configuration</li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><strong>NM_DedicatedServer</strong> has no local players and can run more efficiently by discarding sound, graphics, user input, and other player-oriented features.</p>
<p><strong>Advantages:</strong> - ⚡ Maximum performance - 🔒 Enhanced security - ⚖️ Fair gameplay (no host advantage) - 📊 Better scalability</p>
<p><strong>Used by:</strong> Competitive MOBAs, MMO games, online shooters</p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p><strong>NM_ListenServer</strong> is a server that hosts a local player but is open to connections from remote players.</p>
<p><strong>Advantages:</strong> - 🚀 Easy to set up - 💰 No hosting costs - 👥 Community-driven servers</p>
<p><strong>Disadvantages:</strong> - ⚠️ Host has latency advantage - 💻 Higher processing load on host - 🔌 Can be terminated by host without warning</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p><strong>NM_Client</strong> is the only mode that is not a server. The local machine connects as a client to a dedicated or listen server and will not run server-side logic.</p>
</div>
</div>
</div>
</section>
</section>
<section id="server-types" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Server Types</h1>
<section id="listen-server-1" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="listen-server-1"><span class="header-section-number">4.1</span> Listen Server</h2>
<p>Listen servers are designed to be simple for users to set up spontaneously since any user with a copy of the game can both start a listen server and play on the same machine. Games that support listen servers often feature an in-game user interface (UI) for starting a server or searching for existing servers to join. Listen servers are not without disadvantages. Because the player who is hosting the listen server is playing on the server directly, they have an advantage over the players who are playing as clients on the listen server. This might raise concerns about fairness of the game. On the other hand, there is also an additional processing load associated with running as a server while also supporting player-relevant systems like graphics and audio rendering. These factors make listen servers less suitable for games in highly competitive settings or games with very high network loads, but convenient for casual cooperative and competitive multiplayer among small groups of players.</p>
</section>
<section id="dedicated-server-1" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="dedicated-server-1"><span class="header-section-number">4.2</span> Dedicated Server</h2>
<p>Dedicated servers are more expensive and challenging to configure. They require a separate machine from all the other players participating in the game, complete with its own network connection. All players joining a dedicated server experience the game with a remote, network connection that ensures a better chance of fairness. Since a dedicated server does not render graphics or perform logic only relevant to local players, it is also able to process gameplay events and perform networking functions more efficiently. This makes dedicated servers preferable for games that require large numbers of players or high-performance, trusted servers for security, fairness, and reliability. Such games include Massively Multiplayer Online games (MMOs), competitive Multiplayer Online Battle Arena games (MOBAs), or fast-paced online shooters.</p>
</section>
</section>
<section id="replication" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Replication</h1>
<p>Replication is the process of the authoritative server sending state data to connected clients. As previously mentioned, the true game state exists on the server. Connected clients replicate this state locally and render graphics and audio so a client can communicate with other clients and participate in the game. If replication is configured correctly, different machines’ game instances synchronize and gameplay runs smoothly.</p>
<p>Actors and actor-derived classes are the primary classes designed for replicating their state over a network connection in UE. AActor is the base class for an object that can be placed or spawned in a level and is also the first class in UE’s UObject inheritance hierarchy that is supported for networking. UObject-derived classes can also replicate, but they must be attached to an actor as a replicated subobject to replicate properly.</p>
<p>Within the context of UE, there are two different areas that are relevant when talking about replication. First, there are the objects being replicated, flagging the properties requiring replication, and defining functions that are called over a network connection. Most of the information relevant to this can be found in the Actor Replication section. Second, there is the internal system itself that is responsible for the act of replicating objects to the correct machines. With respect to this second point, UE has a few different systems to replicate objects that can be found in the Replication Systems section.</p>
<section id="actor-replication" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="actor-replication"><span class="header-section-number">5.1</span> Actor Replication</h2>
<p>Actors interact over a network using a few different mechanisms, some of these include: replicated properties, replicated using properties, and remote procedure calls. Replicated Properties are actor properties that replicate their state over the network. Replicated Using Properties are actor properties that replicate their state over the network and subsequently call a function to perform an action when their state is replicated. Remote Procedure Calls give actors the ability to call a function from one machine and run it on a different machine. For example, an actor can call a server remote procedure call on a client and the function will then run on the server once the server receives the network packet.</p>
<p>Actor replication is a highly detailed, multi-step process that involves a few primary steps:</p>
<ul>
<li>Client machine determines what actors need to replicate to which connections</li>
<li>Server determines the order in which property updates and remote procedure calls are performed and executed</li>
<li>Server sends relevant information to all other connected clients</li>
</ul>
<p>By default, most actors do not replicate by default and instead perform their functions locally. You can enable replication for actor-derived classes by setting the <code>bReplicates</code> variable in C++ or the Replicates setting in Blueprint to true.</p>
<section id="replication-features-overview" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="replication-features-overview"><span class="header-section-number">5.1.1</span> Replication Features Overview</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 40%">
<col style="width: 59%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Creation and Destruction</strong></td>
<td>When an authoritative version of a replicated actor is spawned on a server, it automatically generates remote proxies of itself on all connected clients. It will then replicate information to those remote proxies. If you destroy an authoritative actor, it will automatically destroy its remote proxies on all connected clients.</td>
</tr>
<tr class="even">
<td><strong>Movement</strong></td>
<td>If an authoritative actor has Replicate Movement enabled, or <code>bReplicateMovement</code> is set to true in C++, it will automatically replicate its Location, Rotation, and Velocity.</td>
</tr>
<tr class="odd">
<td><strong>Properties</strong></td>
<td>Any properties that are designated as being replicated automatically replicate from the authoritative actor to its remote proxies whenever their values change.</td>
</tr>
<tr class="even">
<td><strong>Components</strong></td>
<td>Actor components replicate as part of the actor that owns them if they are set to replicate. Any variables within the component that are designated as being replicated will replicate, and any RPCs called within the component will behave consistently with RPCs called in the actor class.</td>
</tr>
<tr class="odd">
<td><strong>Subobjects</strong></td>
<td>Any UObject-derived can be attached to an actor and replicated as a subobject.</td>
</tr>
<tr class="even">
<td><strong>Remote Procedure Calls</strong></td>
<td>RPCs are special functions that are transmitted to specific machines in a network game. No matter what machine an RPC is initially called on, its implementation will run only on the machine it is intended for. These may be designated as Server (only runs on the server), Client (only runs on the Actor’s owning client), or NetMulticast (runs on every machine connected to the session, including the server).</td>
</tr>
</tbody>
</table>
</section>
<section id="non-replicated-features" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="non-replicated-features"><span class="header-section-number">5.1.2</span> Non-Replicated Features</h3>
<p>Common use cases such as creation, destruction, and movement are handled automatically, but all other gameplay features do not replicate by default, even when you enable replication for an actor. You must manually designate:</p>
<ul>
<li>Properties to replicate and any custom conditions</li>
<li>Functions to replicate and manually call them in your code</li>
<li>Components and subobjects to replicate and any of their associated properties and functions</li>
</ul>
<p>Several common features of actors, pawns, and characters do not replicate, such as:</p>
<ul>
<li>Skeletal Mesh Component</li>
<li>Static Mesh Component</li>
<li>Materials</li>
<li>Animation Blueprints</li>
<li>Particle System Component</li>
<li>Sound Emitters</li>
<li>Physics Objects</li>
</ul>
<p>Each of these run separately on all clients, however, if the variables that drive these visual elements are replicated, it ensures that all clients have the same information and each simulates these features in approximately the same manner.</p>
</section>
</section>
</section>
<section id="debugging-profiling-and-testing" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Debugging, Profiling, and Testing</h1>
<p>The added complexity of multiple game instances, varying reliability of network connections, and differing functionality between a server and clients makes debugging, profiling, and testing networked multiplayer games an essential part of the development process. UE provides several features and specialized tools to help you debug, profile and test your project.</p>
</section>
<section id="replication-systems" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Replication Systems</h1>
<p>UE now provides three different systems to replicate state data over a network connection:</p>
<ul>
<li>Generic Replication System</li>
<li>Replication Graph</li>
<li>Iris Replication System</li>
</ul>
<p>Before you start designing your networked multiplayer game, decide which replication system is best for you by reading more about each of them and what they offer.</p>
</section>
<section id="sec-networking-tips" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Networking Tips</h1>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
💡 Best Practices for UE5 Networking
</div>
</div>
<div class="callout-body-container callout-body">
<p>Follow these summarized tips to optimize your networked multiplayer game.</p>
</div>
</div>
<section id="rpc-best-practices" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="rpc-best-practices"><span class="header-section-number">8.1</span> RPC Best Practices</h2>
<section id="minimize-rpc-usage" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="minimize-rpc-usage"><span class="header-section-number">8.1.1</span> Minimize RPC Usage</h3>
<ul>
<li>📉 <strong>Use as few RPCs as possible</strong> - If you can use a RepNotify property instead, you should</li>
<li>🎯 <strong>Prefer RepNotify over RPCs</strong> - Variables are more reliable for persistent state</li>
</ul>
</section>
<section id="multicast-considerations" class="level3" data-number="8.1.2">
<h3 data-number="8.1.2" class="anchored" data-anchor-id="multicast-considerations"><span class="header-section-number">8.1.2</span> Multicast Considerations</h3>
<ul>
<li>⚠️ <strong>Use multicast functions sparingly</strong> - They create extra network traffic for each connected client</li>
<li>📊 <strong>Consider the cost</strong> - Every client receives the call, multiplying bandwidth usage</li>
</ul>
</section>
<section id="server-side-logic" class="level3" data-number="8.1.3">
<h3 data-number="8.1.3" class="anchored" data-anchor-id="server-side-logic"><span class="header-section-number">8.1.3</span> Server-Side Logic</h3>
<ul>
<li>🖥️ <strong>Server-only logic placement</strong> - Doesn’t necessarily have to be in a server RPC if you can guarantee non-replicated function only executes on server</li>
<li>🔒 <strong>Authority checks</strong> - Use <code>Switch Has Authority</code> to control execution</li>
</ul>
</section>
</section>
<section id="reliability-guidelines" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="reliability-guidelines"><span class="header-section-number">8.2</span> Reliability Guidelines</h2>
<section id="input-bound-rpcs" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="input-bound-rpcs"><span class="header-section-number">8.2.1</span> Input-Bound RPCs</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>⚠️ <strong>Caution with player input:</strong> Players can rapidly press buttons and overflow the reliable RPC queue. Implement rate limiting mechanisms.</p>
</div>
</div>
</section>
<section id="frequent-calls" class="level3" data-number="8.2.2">
<h3 data-number="8.2.2" class="anchored" data-anchor-id="frequent-calls"><span class="header-section-number">8.2.2</span> Frequent Calls</h3>
<ul>
<li>🔄 <strong>Make RPCs unreliable if called often</strong> - Especially inside actor tick functions</li>
<li>⏱️ <strong>Avoid reliable RPCs in loops</strong> - Can quickly saturate bandwidth</li>
</ul>
</section>
</section>
<section id="optimization-strategies" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="optimization-strategies"><span class="header-section-number">8.3</span> Optimization Strategies</h2>
<section id="function-recycling" class="level3" data-number="8.3.1">
<h3 data-number="8.3.1" class="anchored" data-anchor-id="function-recycling"><span class="header-section-number">8.3.1</span> Function Recycling</h3>
<p>♻️ <strong>Recycle functions when possible:</strong> - Call them in response to gameplay logic - Use them as RepNotifies - Ensures parallel execution on server and clients</p>
</section>
<section id="conditional-execution" class="level3" data-number="8.3.2">
<h3 data-number="8.3.2" class="anchored" data-anchor-id="conditional-execution"><span class="header-section-number">8.3.2</span> Conditional Execution</h3>
<p><strong>Network Role Check:</strong> - Check your actor’s network role - Useful for filtering execution in functions that activate on both server and client</p>
<p><strong>Local Control Check:</strong> - Check if your pawn is locally controlled using <code>IsLocallyControlled</code> - Useful for filtering based on pawn ownership</p>
</section>
</section>
<section id="critical-optimizations" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="critical-optimizations"><span class="header-section-number">8.4</span> Critical Optimizations</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🚀 Network Dormancy
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Make use of network dormancy</strong> - It is one of the most significant optimizations you can make in your network gameplay.</p>
<p>Network dormancy allows actors to “sleep” when they’re not actively changing, reducing bandwidth consumption dramatically.</p>
</div>
</div>
</section>
<section id="quick-reference-checklist" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="quick-reference-checklist"><span class="header-section-number">8.5</span> Quick Reference Checklist</h2>
<ul class="task-list">
<li><label><input type="checkbox">Minimize RPC usage (prefer RepNotify)</label></li>
<li><label><input type="checkbox">Use multicast sparingly</label></li>
<li><label><input type="checkbox">Implement rate limiting for input-bound RPCs</label></li>
<li><label><input type="checkbox">Make frequently-called RPCs unreliable</label></li>
<li><label><input type="checkbox">Recycle functions as RepNotifies</label></li>
<li><label><input type="checkbox">Check network roles appropriately</label></li>
<li><label><input type="checkbox">Implement network dormancy</label></li>
<li><label><input type="checkbox">Test with realistic network conditions</label></li>
</ul>
</section>
</section>
<section id="multiplayer-in-blueprints" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Multiplayer in Blueprints</h1>
<p>UE5 provides a lot of multiplayer functionality out of the box, and it’s easy to set up a basic Blueprint game that works over a network. It’s easy to dive in and start playing multiplayer. Most of the logic to make basic multiplayer work is thanks to the built-in networking support in the Character class, and its CharacterMovementComponent, which the Third Person template project uses.</p>
<section id="gameplay-framework-review" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="gameplay-framework-review"><span class="header-section-number">9.1</span> Gameplay Framework Review</h2>
<p>To add multiplayer functionality to your game, it’s important to understand the roles of the major gameplay classes that are provided by the engine and how they work together – and especially, how they work in a multiplayer context:</p>
<ul>
<li><strong>GameInstance</strong></li>
<li><strong>GameMode</strong></li>
<li><strong>GameState</strong></li>
<li><strong>Pawn</strong> (and Character, which inherits from Pawn)</li>
<li><strong>PlayerController</strong></li>
<li><strong>PlayerState</strong></li>
</ul>
<section id="key-points-for-multiplayer-design" class="level3" data-number="9.1.1">
<h3 data-number="9.1.1" class="anchored" data-anchor-id="key-points-for-multiplayer-design"><span class="header-section-number">9.1.1</span> Key Points for Multiplayer Design</h3>
<ul>
<li><p><strong>GameInstance</strong> exists for the duration of the engine’s session, meaning that it is created when the engine starts up and not destroyed or replaced until the engine shuts down. A separate GameInstance exists on the server and on each client, and these instances do not communicate with each other. Because the GameInstance exists outside of the game session and is the only game structure that exists across level loads, it is a good place to store certain types of persistent data, such as lifetime player statistics (e.g.&nbsp;total number of games won), account information (e.g.&nbsp;locked/unlocked status of special items), or even a list of maps to rotate through in a competitive game like Unreal Tournament.</p></li>
<li><p><strong>GameMode</strong> object only exists on the server. It generally stores information related to the game that clients do not need to know explicitly. For example, if a game has special rules like “rocket launchers only”, the clients may not need to know this rule, but when randomly spawning weapons around the map, the server needs to know to pick only from the “rocket launcher” category.</p></li>
<li><p><strong>GameState</strong> exists on the server and the clients, so the server can use replicated variables on the GameState to keep all clients up-to-date on data about the game. Information that is of interest to all players and spectators, but isn’t associated with any one specific player, is ideal for GameState replication. As an example, a baseball game could replicate each team’s score and the current inning via the GameState.</p></li>
<li><p><strong>PlayerController</strong> - One PlayerController exists on each client per player on that machine. These are replicated between the server and the associated client, but are not replicated to other clients, resulting in the server having PlayerControllers for every player, but local clients having only the PlayerControllers for their local players. PlayerControllers exist while the client is connected, and are associated with Pawns, but are not destroyed and respawned like Pawns often are. They are well-suited to communicating information between clients and servers without replicating this information to other clients, such as the server telling the client to ping its minimap in response to a game event that only that player detects.</p></li>
<li><p><strong>PlayerState</strong> will exist for every player connected to the game on both the server and the clients. This class can be used for replicated properties that all clients, not just the owning client, are interested in, such as the individual player’s current score in a free-for-all game. Like the PlayerController, they are associated with individual Pawns, and are not destroyed and respawned when the Pawn is.</p></li>
<li><p><strong>Pawns</strong> (including Characters) will also exist on the server and on all clients, and can contain replicated variables and events. The decision of whether to use the PlayerController, the PlayerState, or the Pawn for a certain variable or event will depend on the situation, but the main thing to keep in mind is that the PlayerController and PlayerState will persist as long as the owning player stays connected to the game and the game doesn’t load a new level, whereas a Pawn may not. For example, if a Pawn dies during gameplay, it will usually be destroyed and replaced with a new Pawn, while the PlayerController and PlayerState will continue to exist and will be associated with the new Pawn once it finishes spawning. The Pawn’s health, therefore, would be stored on the Pawn itself, since that is specific to the actual instance of the Pawn and should be reset when the Pawn is replaced with a new one.</p></li>
</ul>
</section>
</section>
<section id="actor-replication-in-blueprints" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="actor-replication-in-blueprints"><span class="header-section-number">9.2</span> Actor Replication in Blueprints</h2>
<p>The core of the networking technology in UE5 is actor replication. An actor with its “Replicates” flag set to true will automatically be synchronized from the server to clients who are connected to that server. An important point to understand is that actors are only replicated from the server to the clients - it’s not possible to have an actor replicate from a client to the server. Of course, clients still need to be able to send data to the server, and they do this through replicated “Run on server” events.</p>
<section id="authority" class="level3" data-number="9.2.1">
<h3 data-number="9.2.1" class="anchored" data-anchor-id="authority"><span class="header-section-number">9.2.1</span> Authority</h3>
<p>For every actor in the world, one of the connected players is considered to have authority over that actor. For every actor that exists on the server, the server has authority over that actor – including all replicated actors. As a result, when the <code>Has Authority</code> function is run on a client, and the target is an actor that was replicated to him, it will return false. You can also use the <code>Switch Has Authority</code> convenience macro as a quick way to branch for different server and client behavior in replicated actors.</p>
</section>
<section id="variables" class="level3" data-number="9.2.2">
<h3 data-number="9.2.2" class="anchored" data-anchor-id="variables"><span class="header-section-number">9.2.2</span> Variables</h3>
<p>In the details panel of variables on your actors, there is a Replication drop-down that lets you control how your variables are replicated, if at all.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>None</strong></td>
<td>This is the default for new variables and means the value will not be sent over the network to clients.</td>
</tr>
<tr class="even">
<td><strong>Replicated</strong></td>
<td>When the server replicates this actor, it will send this variable to clients. The value of the variable on the receiving client will update automatically, so that the next time it’s accessed, it will reflect what the value was on the server. Of course, when playing over a real-world network, the updates will be delayed by an amount of time dependent on the network’s latency. Remember that replicated variables only go in one direction, from the server to the client! To send data from a client to the server, see the “Events” section.</td>
</tr>
<tr class="odd">
<td><strong>RepNotify</strong></td>
<td>The variable will be replicated as in the Replicated option, but in addition, an <code>OnRep_&lt;variable name&gt;</code> function will be created in your blueprint. This function will be called by the engine automatically on the client and the server whenever the value of this variable changes. You’re free to implement this function however you’d like, as needed by your game.</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> Many of the variables in the engine’s built-in classes already have replication enabled, so that many features work automatically in a multiplayer context.</p>
</section>
<section id="spawning-and-destroying" class="level3" data-number="9.2.3">
<h3 data-number="9.2.3" class="anchored" data-anchor-id="spawning-and-destroying"><span class="header-section-number">9.2.3</span> Spawning and Destroying</h3>
<p>When a replicated actor is spawned on the server, this is communicated to clients, and they will also automatically spawn a copy of that actor. But since, in general, replication doesn’t occur from clients to the server, if a replicated actor is spawned on a client, that actor will only exist on the client that spawned it. Neither the server nor any other client will receive a copy of the actor. The spawning client will, however, have authority over the actor. This can still be useful for things like cosmetic actors that don’t really influence gameplay, but for actors that do influence gameplay and should be replicated, it’s best to make sure they are spawned on the server.</p>
<p>The situation is similar for destroying replicated actors: if the server destroys one, all clients will destroy their respective copies as well. Clients are free to destroy actors for which they have authority - that is, actors they have spawned themselves - since these are not replicated to other players and wouldn’t have any effect on them. If a client tries to destroy an actor for which he is not the authority, the destroy request will be ignored. The key point here is the same for spawning actors: if you need to destroy a replicated actor, destroy it on the server.</p>
</section>
<section id="event-replication" class="level3" data-number="9.2.4">
<h3 data-number="9.2.4" class="anchored" data-anchor-id="event-replication"><span class="header-section-number">9.2.4</span> Event Replication</h3>
<p>In Blueprints, in addition to replicating actors and their variables, you can also run events across the clients and the server.</p>
</section>
<section id="ownership" class="level3" data-number="9.2.5">
<h3 data-number="9.2.5" class="anchored" data-anchor-id="ownership"><span class="header-section-number">9.2.5</span> Ownership</h3>
<p>An important concept to understand when working on multiplayer, and especially with replicated events, is which connection is considered to be the owner of a particular actor or component. For our purposes, know that “Run on server” events can only be invoked from actors (or their components) which the client owns. Usually, this means you can only send “Run on server” events from the following actors, or from a component of one of the actors:</p>
<ul>
<li>The client’s PlayerController itself</li>
<li>A Pawn that the client’s PlayerController possesses, or</li>
<li>The client’s PlayerState</li>
</ul>
<p>Likewise, for a server sending “Run on owning client” events, those events should also be invoked on one of these actors. Otherwise, the server won’t know which client to send the event to, and it will only run on the server!</p>
</section>
<section id="events" class="level3" data-number="9.2.6">
<h3 data-number="9.2.6" class="anchored" data-anchor-id="events"><span class="header-section-number">9.2.6</span> Events</h3>
<p>In the details panel of your custom events, you can set how the event is replicated, if at all.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Not Replicated</strong></td>
<td>This is the default and means there will be no replication for this event. If it is invoked on a client, it will only run on that client, and if it is invoked on the server, it will only run on the server.</td>
</tr>
<tr class="even">
<td><strong>Multicast</strong></td>
<td>If a multicast event is invoked on the server, it will be replicated to all connected clients - regardless of which connection owns the target object. If a client invokes a multicast event, it will be treated as if it wasn’t replicated, and it will only run on the client that invoked it.</td>
</tr>
<tr class="odd">
<td><strong>Run on Server</strong></td>
<td>If this event is invoked from the server, it will only run on the server. If it’s invoked from a client, with a target that the client owns, it will be replicated to and run on the server. “Run on Server” events are the primary method for clients to send data to the server.</td>
</tr>
<tr class="even">
<td><strong>Run on Owning Client</strong></td>
<td>If invoked from the server, this event will run on the client who owns the target actor. Since the server can own actors itself, a “Run on Owning Client” event may run on the server, despite its name. If invoked from a client, the event will be treated as if it isn’t replicated, and it will only run on the client that invoked it.</td>
</tr>
</tbody>
</table>
</section>
<section id="replication-behavior-tables" class="level3" data-number="9.2.7">
<h3 data-number="9.2.7" class="anchored" data-anchor-id="replication-behavior-tables"><span class="header-section-number">9.2.7</span> Replication Behavior Tables</h3>
<p><strong>If the event is invoked from the server:</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 1%">
<col style="width: 25%">
<col style="width: 17%">
<col style="width: 23%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Not replicated</th>
<th>Multicast</th>
<th>Run on Server</th>
<th>Run on Owning Client</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Client-owned target</strong></td>
<td>Server</td>
<td>Server and all clients</td>
<td>Server</td>
<td>Target’s owning client</td>
</tr>
<tr class="even">
<td><strong>Server-owned target</strong></td>
<td>Server</td>
<td>Server and all clients</td>
<td>Server</td>
<td>Server</td>
</tr>
<tr class="odd">
<td><strong>Unowned target</strong></td>
<td>Server</td>
<td>Server and all clients</td>
<td>Server</td>
<td>Server</td>
</tr>
</tbody>
</table>
<p><strong>If the event is invoked from a client:</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 1%">
<col style="width: 25%">
<col style="width: 17%">
<col style="width: 23%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Not replicated</th>
<th>Multicast</th>
<th>Run on Server</th>
<th>Run on Owning Client</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Target owned by invoking client</strong></td>
<td>Invoking client</td>
<td>Invoking client</td>
<td>Server</td>
<td>Invoking client</td>
</tr>
<tr class="even">
<td><strong>Target owned by a different client</strong></td>
<td>Invoking client</td>
<td>Invoking client</td>
<td>Dropped</td>
<td>Invoking client</td>
</tr>
<tr class="odd">
<td><strong>Server-owned target</strong></td>
<td>Invoking client</td>
<td>Invoking client</td>
<td>Dropped</td>
<td>Invoking client</td>
</tr>
<tr class="even">
<td><strong>Unowned target</strong></td>
<td>Invoking client</td>
<td>Invoking client</td>
<td>Dropped</td>
<td>Invoking client</td>
</tr>
</tbody>
</table>
<p>As you can see from the table above, any events that are invoked from a client and that are not set to Run on Server are treated as if they are not replicated.</p>
<p>Sending a replicated event from the client to the server is the only way to communicate information from a client to the server, since general actor replication is designed to be server-to-client only.</p>
<p>Also, note that multicast events can only be sent from the server. Because of Unreal’s client-server model, a client isn’t directly connected to any of the other clients, he’s only connected to the server. Therefore, a client is unable to send a multicast event directly to the other clients and must only communicate with the server. You can emulate this behavior, however, by using two replicated events: one Run on server event, and one Multicast event. The implementation of the Run on server event can perform validation, if desired, and then call the multicast event. The implementation of the multicast event would perform the logic that you’d like to run for all connected players.</p>
</section>
<section id="join-in-progress-considerations" class="level3" data-number="9.2.8">
<h3 data-number="9.2.8" class="anchored" data-anchor-id="join-in-progress-considerations"><span class="header-section-number">9.2.8</span> Join-in-Progress Considerations</h3>
<p>One thing to keep in mind when using replicated events to communicate game state changes is how they interact with a game that supports join-in-progress. If a player joins a game in progress, any replicated events that occurred before the join will not be executed for the new player. The takeaway here is that if you want your game to work well with join-in-progress, it’s usually best to synchronize important gameplay data via replicated variables. A pattern that comes up often is that a client performs some action in the world, notifies the server about the action via a “Run on server” event, and in the implementation of that event, the server updates some replicated variables based on the action. Then the other clients, who did not perform the action, still see the result of the action via the replicated variables. In addition, any clients who join-in-progress after the action has occurred will also see the correct state of the world, since they receive the most recent value of the replicated variables from the server. If the server had instead only sent an event, the join-in-progress players wouldn’t know about the action that was performed!</p>
</section>
<section id="reliability" class="level3" data-number="9.2.9">
<h3 data-number="9.2.9" class="anchored" data-anchor-id="reliability"><span class="header-section-number">9.2.9</span> Reliability</h3>
<p>For any replicated event, you can choose whether it is Reliable or Unreliable.</p>
<p><strong>Reliable</strong> events are guaranteed to reach their destination (assuming the ownership rules above are followed), but they introduce more bandwidth, and potentially latency, to meet this guarantee. Try to avoid sending reliable events too often, such as on every tick, since the engine’s internal buffer of reliable events may overflow - when this happens, the associated player will be disconnected!</p>
<p><strong>Unreliable</strong> events work as their name implies - they may not reach their destination, in case of packet loss on the network, or if the engine determines there is a lot of higher-priority traffic it needs to send, for example. As a result, unreliable events use less bandwidth than reliable events, and they can be called safely more often.</p>
</section>
</section>
</section>
<section id="hands-on" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> Hands On</h1>
<p>For this Hands On, we are going to use the ContentExamples project. Open this project and then open the Network_Features map.</p>
<section id="understanding-client-server-model" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="understanding-client-server-model"><span class="header-section-number">10.1</span> Understanding Client-Server Model</h2>
<p>The first thing to understand with Unreal’s networking, in Blueprints and in code, is that the games will run on what is called a client-server model. That means basically, if you have a server machine who is serving as the host of the game, and it’s allowing potentially multiple clients to connect to it and communicate data with it back and forth. The thing you want to notice here is that the communication between the client and server is happening such that the client sends data to the server, and then the server sends any of that data out to the other clients. The clients, for gameplay purposes, usually don’t communicate directly with each other.</p>
<p>An example here would be if you are a client attached and you are using the keyboard, and you are playing a shooter and you use your WASD keys; you press W to move forward, you would tell the server that you moved forward and then he would broadcast the information necessary for all the other clients to know how you moved. An important thing to keep in mind in how all this works is that throughout all the process, the server is basically the “king”. You want to always make sure the things that are very important from a gameplay perspective; in terms of like the rules, or who wins, who loses, if you modify somebody’s health, anything that helps determine how gameplay functions happens exclusively on the server. Then if clients need to know about it, we make sure that we tell them that for the purposes of like if they have to display UI or updating visual information. But again, if we had our shooter example if two players are shooting at each other when one actually takes damage, you want the server to be the one that determines that and who actually subtracts the damage, so that the client machines can’t actually cheat.</p>
</section>
<section id="server-types-listen-vs-dedicated" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="server-types-listen-vs-dedicated"><span class="header-section-number">10.2</span> Server Types: Listen vs Dedicated</h2>
<p>When we talk about servers in UE5, we basically are focusing on two different types. The first is known as the <strong>listen server</strong>. The easy way to think about this is that the machine that is hosting the game and acting as the authority, is also running a client on it at the same time. So if you pretend that you are hosting a game on your own computer and you invite your friends to join you, and they type in your IP address and you connect to each other, in this case, you would be the listen server. Your machine is operating as the server for the whole game, but you yourself are also playing. You have a monitor, you are seeing visuals rendering, and you are entering input directly.</p>
<p>Conversely, the other one you often hear about is a <strong>dedicated server</strong>, which as the name kind implies is exclusively devoted to acting as the server for other clients to join. So that historically does not have input or rendering going on. There is not a local player playing on the server. Dedicated servers traditionally also have optimizations that allow them to be cheaper, obviously because they’re not rendering anything. Some games will also even make the executable for the dedicated server an entirely separate executable that only contain special logic that it knows to also help prevent against cheating. For the sake of this assignment we will mostly be looking at listen servers, but the basic general gist of all the things we are going to go over will apply to both cases.</p>
</section>
<section id="replication-explained" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="replication-explained"><span class="header-section-number">10.3</span> Replication Explained</h2>
<p>One more thing we want to cover is the concept of replication. Replication is a word you are going to hear a lot throughout this assignment, and it is important to understand. The very simple explanation of it is just to assume that it is data and commands basically being communicated between these machines back and forth and how we ought to do that. Considering the shooter example, if we have our guy here with his full health and he is really happy, how we handle when he takes damage and then send it to the other client that he is now sad, and he has lost health? We would call this replicating the health value. The server itself has handled the change. It has made sure that the change is legitimate. It has decremented his health, and then it replicates that value to clients so that they can see what the value is and if they want to display a health bar or things like that.</p>
<p>So, whenever we say replication or whenever we’re talking about that, we’re effectively meaning the transmission of different data and commands between these machines and how they communicate. There are a lot of things we can replicate. We can replicate variables like health here. We can replicate the existence or non-existence of actors. So, we could say that this guy doesn’t even happen to spawn on clients. And we can also replicate Blueprint function calls, which we will get into later as well.</p>
</section>
<section id="testing-multiplayer-in-editor" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="testing-multiplayer-in-editor"><span class="header-section-number">10.4</span> Testing Multiplayer in Editor</h2>
<p>You can play your game in a multiplayer way. So, when you are in the editor, and you press on the side of the Play button, a drop-down appears allowing you to test multiplayer quickly. This way, you can set the Number of Clients to 2 or more. Then, if you press Play, you will get one or more windows running the game: one for each player.</p>
<p>Go to Advanced Settings and change the default window size so that we can have multiple windows easily on the screen. Then, set the Number of Players to 2, and then when we run the game, select the New Editor Window play mode and play the game. You will see we have two Windows. At the top, one says Server and the other says Client.</p>
<p>If you wanted to emulate a dedicated server, you actually can do that through here too. There is a checkbox that says, ‘Launch Separate Server’. Then you can, if you want, change this down to 1 client. What you will see happens is when you play it, the window that pops up - even though there’s only one, says it is a client because it is connected to a dedicated server emulation in the background.</p>
</section>
</section>
<section id="practical-examples" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Practical Examples</h1>
<section id="actor-replication-1" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="actor-replication-1"><span class="header-section-number">11.1</span> 1. Actor Replication</h2>
<p>Actor replication is basically if an Actor replicates, when it is spawned on the server, that means it will be sent to all of the clients, all the remote machines, and they will be aware of that Actor’s existence. However, if an Actor does not replicate, then the remote machines won’t know about it when it spawns.</p>
<p>To enable replication for any Actor that you want to display for every machine in the game, you must check the <strong>Replicates</strong> checkbox in the Actor’s details panel under the Replication section. Anytime you want to spawn an Actor that will then handle networking correctly and be networked to all the machines that connect to the game, you want to make sure that you go ahead and check this checkbox.</p>
</section>
<section id="detecting-network-authority" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="detecting-network-authority"><span class="header-section-number">11.2</span> 2. Detecting Network Authority</h2>
<p>Basically, what you want to do is make sure that anything that is a gameplay important Actor, like ghosts or enemies, only gets spawned on the server. You can use the <strong>Switch Has Authority</strong> node to determine this.</p>
<p>What this is basically checking is: is the Blueprint script that’s executing right now, executing on a machine that is the network authority, or is it a remote machine? Now most use cases when you say “Authority”, it’s going to mean the server. This is basically, “am I the server, or am I a client?”</p>
<p>The reason it doesn’t just say server or client is because there are certain scenarios in which the server is not actually the authority over an Actor. A very good example of this is if you were making a UI and you add an Actor that was your HUD, then it’s probably only spawned in the client and the server completely doesn’t even care that it exists. In that case, the client has authority over the HUD because he owns it, he spawned it, and nobody else knows about it and nobody cares. But for almost every other scenario, the authority is going to be the server.</p>
<p>You can use the Switch Has Authority to gate like, “I only want gameplay or things to happen on the server,” versus “I only want them to happen on clients,” or vice versa.</p>
<p>The most common use case, and where you will see this node very often, is when you are doing something that is very gameplay important. So if we go all the way back to the shooter example again when a player is taking damage, or we’re doing something that directly impacts how the game functions, that will usually be wrapped with one of these first that is making sure that it’s only the authority who executes the code.</p>
</section>
<section id="variable-replication" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="variable-replication"><span class="header-section-number">11.3</span> 3. Variable Replication</h2>
<p>We will move from the concept of Actor replication to variable replication. So, we already decided that we want to replicate the ghost. We want the ghost Actor available to all the client machines. However, it doesn’t always make sense to replicate every single piece of information that’s possibly on the ghost. There is a lot of information that may be only the server needs to know about, or just other people completely don’t care about. And so, you want to be able to set whether certain variables on an Actor are replicated or not.</p>
<p>Variables that are important to gameplay should only be modified on the server (authority), but both server and clients can read them. The server modifies the value and then replication ensures clients receive the updated value.</p>
<p><strong>Important:</strong> When you change a value for a replicated variable, it will consider it for replication, but <strong>it won’t detect multiple changes within one frame</strong>. So, if you changed Health from 100 to 80 and then immediately set Health back to 100 again, the client won’t be aware that ever happened. Because at the end of the frame when it’s considered for replication, it will say, “well I started at 100 and my current value is 100. No change has occurred; I don’t need to tell the client machines about that.”</p>
</section>
<section id="repnotify" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="repnotify"><span class="header-section-number">11.4</span> 4. RepNotify</h2>
<p><strong>RepNotify</strong> basically means, do everything that the replicated keyword does. But, in addition when that variable does change if somebody modifies it, give me a chance to respond to that. Allow me to call a function in response and do something with it.</p>
<p>When you set a variable to RepNotify, it will automatically call a function named <code>OnRep_&lt;variable name&gt;</code> that you can implement. This function will be called by the engine automatically on the client and the server whenever the value of this variable changes.</p>
<p>This is a really handy and powerful way to do things where a gameplay thing changes and it should have associated visual effect changes with it also that the clients need to know about. You could make it RepNotify, if you want to be notified at the second it changes and then react accordingly.</p>
<p><strong>Important Caveat:</strong> If you happen to be a programmer or you are dealing with programmers who are doing replication in C++ and not through Blueprints, the behavior of the Notify is slightly different in Blueprints, in that the server when this is set, automatically calls this function. If you are coding things in C++, it is important to know the RepNotify function is not automatically called on the server. If you want it, you have to manually call it. In Blueprints, it is done as a convenience, so you don’t have to worry about it.</p>
</section>
<section id="function-call-replication" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="function-call-replication"><span class="header-section-number">11.5</span> 5. Function Call Replication</h2>
<p>Now we’re going to go ahead and move on to function call replication. The general rule of thumb is:</p>
<ul>
<li>If something should occur once and it’s kind of a one-off event and it only needs to happen right away and only once, then <strong>function call replication</strong> is probably what you want (like if something explodes).</li>
<li>If what you are changing is something that is going to change and should persist and should be available to clients for a while (like a streetlight switching between states of red, yellow, and green), then you probably want <strong>Variable Replication</strong>.</li>
</ul>
<section id="multicast-functions" class="level3" data-number="11.5.1">
<h3 data-number="11.5.1" class="anchored" data-anchor-id="multicast-functions"><span class="header-section-number">11.5.1</span> Multicast Functions</h3>
<p>A <strong>Multicast</strong> function means basically when this function is called on the server (you want to make sure you only call it on the server), what it will do is execute that event on the server. Then, it is going to tell all the client machines that they also need to call this event. So, then each individual client will get this event as well, and then they will run this code as well.</p>
</section>
<section id="reliable-vs-unreliable" class="level3" data-number="11.5.2">
<h3 data-number="11.5.2" class="anchored" data-anchor-id="reliable-vs-unreliable"><span class="header-section-number">11.5.2</span> Reliable vs Unreliable</h3>
<p>Before we get into the other options in the drop-down, there’s a checkbox that says <strong>Reliable</strong>. With functions, you get a choice on whether replication is reliable or not.</p>
<ul>
<li><p><strong>Reliable</strong> events are guaranteed to reach their destination, but they use more bandwidth. Try to avoid sending reliable events too often. If your network bandwidth is full and there’s just a lot of stuff going on, reliable events will still get through but may be delayed.</p></li>
<li><p><strong>Unreliable</strong> events may not reach their destination if network bandwidth is full or if there are more important things to send. Most cases where you’re only doing something cosmetic, you would make these unreliable.</p></li>
</ul>
<p>When you make something Reliable, it will attempt to dispatch immediately. With Multicast, there is an engine feature that is guarding you from hurting yourself too badly. If you attempt to call one of these more than two times on the same actor in the same frame, it will start rejecting further calls to it until the next frame so that you can’t completely flood your network.</p>
</section>
<section id="other-replication-options" class="level3" data-number="11.5.3">
<h3 data-number="11.5.3" class="anchored" data-anchor-id="other-replication-options"><span class="header-section-number">11.5.3</span> Other Replication Options</h3>
<p>The other options in the replication dropdown are:</p>
<ul>
<li><strong>Run on Server</strong>: A request from a client to run a function on the server</li>
<li><strong>Run on Owning Client</strong>: A request from the server to run a function on a particular client that owns an Actor</li>
</ul>
<p>These are valid options for Actors that are owned by a Player Controller. For instance, a pawn that you control is owned by a Player Controller. The pawn or the Player Controller are both valid for these options.</p>
</section>
</section>
<section id="network-relevancy" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="network-relevancy"><span class="header-section-number">11.6</span> 6. Network Relevancy</h2>
<p>An important consideration in any network game is making content that handles some of the trickier edge cases in network play. For example, you’ve created your game, something is occurring and say an important gameplay event has occurred. Let’s say a player has gotten a power-up that has mutated them into an enemy, like a crazy monster, but then after that happens, a different player joins the game. How do you make sure that player who joins the game in progress knows that that guy is a mutant, and can see everything the correct way?</p>
<section id="understanding-network-relevancy" class="level3" data-number="11.6.1">
<h3 data-number="11.6.1" class="anchored" data-anchor-id="understanding-network-relevancy"><span class="header-section-number">11.6.1</span> Understanding Network Relevancy</h3>
<p>At its simplest terms, network relevancy determines if an actor is relevant to a particular machine or not, at a certain time. And if they are, you send the network updates for that machine.</p>
<p>As an optimization, it’s important to not send all network data to all machines, all the time, or else we wouldn’t be able to support all the cool network content that we do. For example, if you’re playing on a gigantic map and another player is all the way across the map and you can’t even see them, you don’t really need to know what they’re doing if what they’re doing doesn’t directly affect you.</p>
</section>
<section id="the-problem-with-function-only-replication" class="level3" data-number="11.6.2">
<h3 data-number="11.6.2" class="anchored" data-anchor-id="the-problem-with-function-only-replication"><span class="header-section-number">11.6.2</span> The Problem with Function-Only Replication</h3>
<p>If you try to handle state changes (like opening a chest) with only a Multicast function, there’s a problem: if a client isn’t receiving network updates at the time (because the actor isn’t relevant to them), they will miss the function call entirely. When they later come into range and start receiving updates, they won’t know the state has changed.</p>
</section>
<section id="the-problem-with-variable-only-replication" class="level3" data-number="11.6.3">
<h3 data-number="11.6.3" class="anchored" data-anchor-id="the-problem-with-variable-only-replication"><span class="header-section-number">11.6.3</span> The Problem with Variable-Only Replication</h3>
<p>If you try to handle everything with RepNotify variables, clients who join later or come into range will get the correct state, but they’ll also execute any associated effects (like particle effects for opening a chest) that should have only happened once when the event originally occurred.</p>
</section>
<section id="the-solution-combined-approach" class="level3" data-number="11.6.4">
<h3 data-number="11.6.4" class="anchored" data-anchor-id="the-solution-combined-approach"><span class="header-section-number">11.6.4</span> The Solution: Combined Approach</h3>
<p>The correct approach is to use <strong>a combination of both replication strategies</strong>:</p>
<ol type="1">
<li>Use a <strong>RepNotify variable</strong> to store persistent state (like whether a chest is open)</li>
<li>Use a <strong>Multicast function</strong> to handle one-time visual effects (like particle bursts)</li>
</ol>
<p>When the event occurs on the server: - Set the RepNotify variable (which opens the chest lid for all current clients) - Call the Multicast function (which plays the particle effect for all current clients)</p>
<p>When a client joins later or comes into range: - They receive the replicated variable and see the chest is open (correct state) - They don’t see the particle effect (correct behavior - they missed the moment it was opened)</p>
<p>This way, you’re using a variable (which saves state) to control the only thing that should persist (whether the lid is open or not), and you’re using a Multicast function for things that should only happen once and immediately (the gold particle effect).</p>
</section>
</section>
</section>
<section id="sec-quick-reference" class="level1" data-number="12">
<h1 data-number="12"><span class="header-section-number">12</span> Quick Reference Guide</h1>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
📋 Cheat Sheet
</div>
</div>
<div class="callout-body-container callout-body">
<p>A condensed reference for common multiplayer Blueprint patterns and solutions.</p>
</div>
</div>
<section id="replication-decision-tree" class="level2" data-number="12.1">
<h2 data-number="12.1" class="anchored" data-anchor-id="replication-decision-tree"><span class="header-section-number">12.1</span> Replication Decision Tree</h2>
<pre class="mermaid"><code>graph TD
    A[Need to Sync Data?] --&gt; B{One-time Event?}
    B --&gt;|Yes| C[Use Multicast RPC]
    B --&gt;|No| D{Persistent State?}
    D --&gt;|Yes| E[Use RepNotify Variable]
    D --&gt;|No| F[Use Replicated Variable]
    C --&gt; G{Visual Effects Only?}
    G --&gt;|Yes| H[Make Unreliable]
    G --&gt;|No| I[Make Reliable]</code></pre>
</section>
<section id="common-patterns" class="level2" data-number="12.2">
<h2 data-number="12.2" class="anchored" data-anchor-id="common-patterns"><span class="header-section-number">12.2</span> Common Patterns</h2>
<section id="pattern-1-health-system" class="level3" data-number="12.2.1">
<h3 data-number="12.2.1" class="anchored" data-anchor-id="pattern-1-health-system"><span class="header-section-number">12.2.1</span> Pattern 1: Health System</h3>
<pre><code>Server:
  ↓ Authority Check
  ↓ Modify Health (RepNotify)
  ↓ Check Death Condition

Client (via RepNotify):
  ↓ Update UI
  ↓ Play Visual Effects</code></pre>
</section>
<section id="pattern-2-item-pickup" class="level3" data-number="12.2.2">
<h3 data-number="12.2.2" class="anchored" data-anchor-id="pattern-2-item-pickup"><span class="header-section-number">12.2.2</span> Pattern 2: Item Pickup</h3>
<pre><code>Client:
  ↓ Overlap Event
  ↓ Call "RequestPickup" (Run on Server)

Server:
  ↓ Validate Pickup
  ↓ Remove Item from World
  ↓ Add to Inventory (Replicated)
  ↓ Call "PlayPickupEffect" (Multicast)

All Clients:
  ↓ Play Particle/Sound Effects</code></pre>
</section>
<section id="pattern-3-weapon-fire" class="level3" data-number="12.2.3">
<h3 data-number="12.2.3" class="anchored" data-anchor-id="pattern-3-weapon-fire"><span class="header-section-number">12.2.3</span> Pattern 3: Weapon Fire</h3>
<pre><code>Owning Client:
  ↓ Input Event
  ↓ Play Local Effects (instant feedback)
  ↓ Call "ServerFire" (Run on Server)

Server:
  ↓ Validate Fire (ammo, cooldown)
  ↓ Spawn Projectile (Replicated Actor)
  ↓ Call "MulticastFireEffects"

All Clients:
  ↓ Play Muzzle Flash
  ↓ Play Fire Sound</code></pre>
</section>
</section>
<section id="replication-checklist" class="level2" data-number="12.3">
<h2 data-number="12.3" class="anchored" data-anchor-id="replication-checklist"><span class="header-section-number">12.3</span> Replication Checklist</h2>
<section id="actor-setup" class="level3" data-number="12.3.1">
<h3 data-number="12.3.1" class="anchored" data-anchor-id="actor-setup"><span class="header-section-number">12.3.1</span> Actor Setup</h3>
<ul class="task-list">
<li><label><input type="checkbox">Enable “Replicates” checkbox</label></li>
<li><label><input type="checkbox">Set appropriate Network Priority</label></li>
<li><label><input type="checkbox">Configure Net Update Frequency</label></li>
<li><label><input type="checkbox">Enable/disable Movement Replication as needed</label></li>
</ul>
</section>
<section id="variable-setup" class="level3" data-number="12.3.2">
<h3 data-number="12.3.2" class="anchored" data-anchor-id="variable-setup"><span class="header-section-number">12.3.2</span> Variable Setup</h3>
<ul class="task-list">
<li><label><input type="checkbox">Choose appropriate replication type (None/Replicated/RepNotify)</label></li>
<li><label><input type="checkbox">Only modify replicated variables on server</label></li>
<li><label><input type="checkbox">Use RepNotify for variables that need response</label></li>
<li><label><input type="checkbox">Keep replicated variable count minimal</label></li>
</ul>
</section>
<section id="function-setup" class="level3" data-number="12.3.3">
<h3 data-number="12.3.3" class="anchored" data-anchor-id="function-setup"><span class="header-section-number">12.3.3</span> Function Setup</h3>
<ul class="task-list">
<li><label><input type="checkbox">Choose appropriate replication type (Not Replicated/Multicast/Run on Server/Run on Owning Client)</label></li>
<li><label><input type="checkbox">Set reliability (Reliable/Unreliable)</label></li>
<li><label><input type="checkbox">Ensure proper ownership for RPC targets</label></li>
<li><label><input type="checkbox">Add validation in Server RPCs</label></li>
</ul>
</section>
</section>
<section id="common-issues-solutions" class="level2" data-number="12.4">
<h2 data-number="12.4" class="anchored" data-anchor-id="common-issues-solutions"><span class="header-section-number">12.4</span> Common Issues &amp; Solutions</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 29%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>Issue</th>
<th>Cause</th>
<th>Solution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Actor not visible on client</td>
<td>Replicates not enabled</td>
<td>Check “Replicates” in actor defaults</td>
</tr>
<tr class="even">
<td>Variable not updating</td>
<td>Not set to replicate</td>
<td>Set replication to Replicated/RepNotify</td>
</tr>
<tr class="odd">
<td>RPC not firing</td>
<td>Wrong ownership/authority</td>
<td>Verify target actor ownership chain</td>
</tr>
<tr class="even">
<td>Visual effects play late</td>
<td>Using RepNotify for effects</td>
<td>Use Multicast RPC for immediate effects</td>
</tr>
<tr class="odd">
<td>Join-in-progress broken</td>
<td>Only using Multicast RPCs</td>
<td>Use RepNotify for persistent state</td>
</tr>
<tr class="even">
<td>Bandwidth issues</td>
<td>Too many Reliable RPCs</td>
<td>Make cosmetic RPCs Unreliable</td>
</tr>
<tr class="odd">
<td>Client can cheat</td>
<td>Logic on client side</td>
<td>Move important logic to server</td>
</tr>
</tbody>
</table>
</section>
<section id="blueprint-node-quick-access" class="level2" data-number="12.5">
<h2 data-number="12.5" class="anchored" data-anchor-id="blueprint-node-quick-access"><span class="header-section-number">12.5</span> Blueprint Node Quick Access</h2>
<section id="essential-nodes" class="level3" data-number="12.5.1">
<h3 data-number="12.5.1" class="anchored" data-anchor-id="essential-nodes"><span class="header-section-number">12.5.1</span> Essential Nodes</h3>
<p><strong>Authority:</strong> - <code>Switch Has Authority</code> - Branch between server and client - <code>Has Authority</code> - Boolean check for authority</p>
<p><strong>Replication:</strong> - <code>SET w/ Notify</code> - Set a RepNotify variable - <code>Replicated To All (if server)</code> - Multicast event call - <code>Run on Server</code> - Server RPC call - <code>Run on Owning Client</code> - Client RPC call</p>
<p><strong>Ownership:</strong> - <code>Is Locally Controlled</code> - Check if pawn is owned by local player - <code>Get Owner</code> - Get owning actor - <code>Get Player Controller</code> - Get controller</p>
</section>
</section>
<section id="performance-tips" class="level2" data-number="12.6">
<h2 data-number="12.6" class="anchored" data-anchor-id="performance-tips"><span class="header-section-number">12.6</span> Performance Tips</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Bandwidth</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">CPU</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Memory</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<ul>
<li>Minimize replicated variables</li>
<li>Use RepNotify sparingly</li>
<li>Make cosmetic RPCs unreliable</li>
<li>Batch updates when possible</li>
<li>Use appropriate Net Update Frequency</li>
</ul>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<ul>
<li>Enable network dormancy</li>
<li>Use distance-based relevancy</li>
<li>Optimize tick functions</li>
<li>Cache expensive calculations</li>
<li>Use timers instead of tick when possible</li>
</ul>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<ul>
<li>Clean up destroyed actors properly</li>
<li>Use object pooling for frequently spawned actors</li>
<li>Unload unused assets</li>
<li>Monitor actor count</li>
</ul>
</div>
</div>
</div>
</section>
<section id="testing-workflow" class="level2" data-number="12.7">
<h2 data-number="12.7" class="anchored" data-anchor-id="testing-workflow"><span class="header-section-number">12.7</span> Testing Workflow</h2>
<ol type="1">
<li><p><strong>Editor Testing</strong></p>
<ul>
<li>Use “Number of Players” in Play settings</li>
<li>Test with both Listen Server and Dedicated Server modes</li>
<li>Use “Launch Separate Server” option</li>
</ul></li>
<li><p><strong>Network Emulation</strong></p>
<ul>
<li>Enable network emulation in settings</li>
<li>Test with artificial latency (100-200ms)</li>
<li>Test with packet loss (1-5%)</li>
</ul></li>
<li><p><strong>Debug Visualization</strong></p>
<ul>
<li>Use <code>Print String</code> with different colors for server/client</li>
<li>Enable network debugging console commands</li>
<li>Check Replication Graph in editor</li>
</ul></li>
<li><p><strong>Common Console Commands</strong></p>
<pre><code>NetEmulation.PktLoss 5        // 5% packet loss
NetEmulation.PktLatency 100   // 100ms latency
stat net                       // Network statistics
log LogNetPlayerMovement Verbose  // Movement logging</code></pre></li>
</ol>
</section>
<section id="resources" class="level2" data-number="12.8">
<h2 data-number="12.8" class="anchored" data-anchor-id="resources"><span class="header-section-number">12.8</span> Resources</h2>
<ul>
<li><a href="https://docs.unrealengine.com/en-US/InteractiveExperiences/Networking/">Official UE Documentation</a></li>
<li><a href="https://cedric-neukirchen.net/docs/category/multiplayer-network-compendium">Network Compendium</a></li>
<li><a href="https://forums.unrealengine.com/c/multiplayer-networking/">UE Forums - Multiplayer</a></li>
</ul>
<hr>
</section>
</section>
<section id="sec-exercises" class="level1" data-number="13">
<h1 data-number="13"><span class="header-section-number">13</span> Exercises</h1>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
🎯 Assignment Tasks
</div>
</div>
<div class="callout-body-container callout-body">
<p>Using what you have learned throughout this assignment, complete the following practical exercises to demonstrate your understanding of multiplayer in Blueprints.</p>
</div>
</div>
<section id="exercise-requirements" class="level2" data-number="13.1">
<h2 data-number="13.1" class="anchored" data-anchor-id="exercise-requirements"><span class="header-section-number">13.1</span> Exercise Requirements</h2>
<section id="project-setup" class="level3" data-number="13.1.1">
<h3 data-number="13.1.1" class="anchored" data-anchor-id="project-setup"><span class="header-section-number">13.1.1</span> 1. Project Setup 🎮</h3>
<p>Create a new project based on the <strong>First-Person template</strong></p>
<p><strong>Deliverables:</strong> - New UE5 project - Properly configured for multiplayer development</p>
<hr>
</section>
<section id="multiplayer-configuration" class="level3" data-number="13.1.2">
<h3 data-number="13.1.2" class="anchored" data-anchor-id="multiplayer-configuration"><span class="header-section-number">13.1.2</span> 2. Multiplayer Configuration 👥</h3>
<p>Set the project to run with <strong>two players</strong></p>
<p><strong>Tasks:</strong> - Configure Play settings in editor - Enable proper network modes - Test with both listen server and client</p>
<hr>
</section>
<section id="character-visualization" class="level3" data-number="13.1.3">
<h3 data-number="13.1.3" class="anchored" data-anchor-id="character-visualization"><span class="header-section-number">13.1.3</span> 3. Character Visualization 🏃</h3>
<p>Add the <strong>Animation Starter Pack</strong> to the project so each character can have a full body skeletal mesh</p>
<p><strong>Requirements:</strong> - Download Animation Starter Pack from Epic Marketplace - Integrate animations with character blueprint - Ensure animations work for both server and clients - Verify skeletal mesh visibility across network</p>
<hr>
</section>
<section id="projectile-replication" class="level3" data-number="13.1.4">
<h3 data-number="13.1.4" class="anchored" data-anchor-id="projectile-replication"><span class="header-section-number">13.1.4</span> 4. Projectile Replication 🔫</h3>
<p>Make the projectiles appear on <strong>both sides</strong></p>
<p><strong>Implementation Checklist:</strong> - [ ] Enable actor replication on projectile blueprint - [ ] Test projectile spawning on server - [ ] Verify projectile visibility on all clients - [ ] Ensure proper collision detection across network - [ ] Implement synchronized visual effects</p>
<hr>
</section>
<section id="combat-system" class="level3" data-number="13.1.5">
<h3 data-number="13.1.5" class="anchored" data-anchor-id="combat-system"><span class="header-section-number">13.1.5</span> 5. Combat System 💥</h3>
<p>Implement a <strong>health system, collision and headshots</strong></p>
<p><strong>Components to Implement:</strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">Health System</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">Collision Detection</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false" href="">Headshot Mechanics</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<ul>
<li>Create replicated health variable</li>
<li>Implement damage application on server</li>
<li>Use RepNotify for health UI updates</li>
<li>Handle death/respawn logic</li>
</ul>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<ul>
<li>Configure proper collision channels</li>
<li>Implement hit detection on server</li>
<li>Replicate hit events to clients</li>
<li>Add visual feedback for hits</li>
</ul>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<ul>
<li>Detect headshot collisions</li>
<li>Apply multiplied damage for headshots</li>
<li>Create special effects for headshots</li>
<li>Display headshot indicators</li>
</ul>
</div>
</div>
</div>
</section>
</section>
<section id="grading-criteria" class="level2" data-number="13.2">
<h2 data-number="13.2" class="anchored" data-anchor-id="grading-criteria"><span class="header-section-number">13.2</span> Grading Criteria</h2>
<div id="tbl-grading" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-grading-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Assignment Grading Rubric
</figcaption>
<div aria-describedby="tbl-grading-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 37%">
<col style="width: 27%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Component</th>
<th>Weight</th>
<th>Criteria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Project Setup</td>
<td>10%</td>
<td>Correct template usage, multiplayer configuration</td>
</tr>
<tr class="even">
<td>Network Configuration</td>
<td>15%</td>
<td>Proper server/client setup, testing methodology</td>
</tr>
<tr class="odd">
<td>Character Integration</td>
<td>20%</td>
<td>Animation pack integration, network visibility</td>
</tr>
<tr class="even">
<td>Projectile Replication</td>
<td>25%</td>
<td>Correct replication, synchronized effects</td>
</tr>
<tr class="odd">
<td>Combat System</td>
<td>30%</td>
<td>Complete health system, proper collision, headshot implementation</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="submission-guidelines" class="level2" data-number="13.3">
<h2 data-number="13.3" class="anchored" data-anchor-id="submission-guidelines"><span class="header-section-number">13.3</span> Submission Guidelines</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
📦 Submission Requirements
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Include:</strong> 1. Complete project folder (or GitHub repository link) 2. Documentation explaining your implementation 3. Video demonstration of multiplayer functionality 4. Screenshots showing key features working</p>
<p><strong>Deadline:</strong> As specified by your instructor</p>
<p><strong>Format:</strong> ZIP file or repository link submitted via course platform</p>
</div>
</div>
</section>
<section id="additional-challenges-optional" class="level2" data-number="13.4">
<h2 data-number="13.4" class="anchored" data-anchor-id="additional-challenges-optional"><span class="header-section-number">13.4</span> Additional Challenges (Optional)</h2>
<p>For students seeking extra credit:</p>
<ul>
<li>🏆 Implement a respawn system with spawn points</li>
<li>🎨 Add custom visual effects for different weapon types</li>
<li>📊 Create a scoreboard showing kills/deaths</li>
<li>🔊 Add networked audio feedback</li>
<li>🛡️ Implement an armor/shield system</li>
</ul>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
💭 Final Thoughts
</div>
</div>
<div class="callout-body-container callout-body">
<p>Remember the key principles: - <strong>Server Authority</strong> - Important gameplay decisions happen on the server - <strong>RepNotify for State</strong> - Use replicated variables for persistent data - <strong>Multicast for Events</strong> - Use multicast functions for one-time visual effects - <strong>Test Early and Often</strong> - Test with multiple clients regularly during development</p>
</div>
</div>
<hr>
<!-- -->

</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb6" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Multiplayer in Blueprints"</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Assignment 3 - Game Engines II"</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "DEPARTAMENTO DE ENGENHARIA INFORMÁTICA"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2023/2024 - 2º Semestre"</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 3</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: left</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-title: "Contents"</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">    number-depth: 3</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: </span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co">      light: [cosmo, custom.scss]</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co">      dark: [darkly, custom.scss]</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: false</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">    smooth-scroll: true</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">    link-external-newwindow: true</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">    html-math-method: katex</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">    css: styles.css</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">    grid:</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co">      sidebar-width: 300px</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="co">      body-width: 900px</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="co">      margin-width: 250px</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co">    callout-appearance: default</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co">  pdf:</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 3</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co">    number-depth: 3</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="co">    colorlinks: true</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="co">    geometry:</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co">      - top=30mm</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="co">      - left=25mm</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="co">      - right=25mm</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="co">      - bottom=30mm</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="co">    fontsize: 11pt</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="co">    mainfont: "Arial"</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="co">    papersize: a4</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a><span class="co">    documentclass: article</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="co">    include-in-header:</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="co">      text: |</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="co">        \usepackage{fancyhdr}</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a><span class="co">        \pagestyle{fancy}</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a><span class="co">        \fancyhead[L]{Multiplayer in Blueprints}</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="co">        \fancyhead[R]{Game Engines II}</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>::: {.callout-note icon=false}</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a><span class="fu">## 📚 Course Information</span></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>**Course:** Game Engines II  </span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>**Program:** Undergraduate in Games and Multimedia  </span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>**Academic Year:** 2023/2024 - 2nd Semester  </span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>**Institution:** Departamento de Engenharia Informática</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a><span class="fu">## Executive Summary {.unnumbered}</span></span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>This comprehensive guide covers **multiplayer game development in Unreal Engine 5 using Blueprints**. You will learn the fundamental concepts of networked multiplayer games, including the client-server architecture, replication systems, and best practices for creating responsive and synchronized gameplay experiences.</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a><span class="fu">### What You'll Learn {.unnumbered}</span></span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>::: {.columns}</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>::: {.column width="48%"}</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>**Core Concepts:**</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🌐 Client-Server Architecture</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🔄 Replication Systems</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🎮 Network Modes</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>👤 Actor &amp; Variable Replication</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>::: {.column width="48%"}</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>**Practical Skills:**</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>💻 Blueprint Networking</span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🔧 RPC Implementation</span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>⚡ Performance Optimization</span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🐛 Debugging Multiplayer</span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a><span class="fu">### Prerequisites {.unnumbered}</span></span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Basic understanding of Unreal Engine 5</span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Familiarity with Blueprint visual scripting</span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Understanding of game development concepts</span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Access to UE5 and ContentExamples project</span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a><span class="fu">### Time Estimate {.unnumbered}</span></span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>📅 **Estimated completion time:** 8-12 hours (including exercises)</span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a><span class="fu"># Networking Overview {#sec-networking-overview}</span></span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip icon=true}</span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a><span class="fu">## 🎮 Key Concept</span></span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>The UE5 framework is built with multiplayer gaming in mind. If you follow the basic framework conventions, you generally don't have to do much to extend a single player experience to multiplayer.</span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>UE5 networking is built around the **server/client model**. This means that there will be one server that is authoritative (makes all the important decisions), and this server will then make sure all connected clients are continually updated so that they maintain the most up to date approximation of the server's world.</span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>::: {.callout-important}</span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a><span class="fu">## 🖥️ Server Authority</span></span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a>Even non-networked, single-player games have a server; the local machine acts as the server in these cases.</span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a><span class="fu">## Understanding Network Communication</span></span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a>In multiplayer game sessions, game state information is communicated between multiple machines over a network connection. In contrast, single-player, local games store all game state information on a single machine.</span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a>:::: {.columns}</span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a>::: {.column width="48%"}</span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a><span class="fu">### Single-Player</span></span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>All data on one machine</span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Instant communication</span>
<span id="cb6-122"><a href="#cb6-122" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>No network latency</span>
<span id="cb6-123"><a href="#cb6-123" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Simple architecture</span>
<span id="cb6-124"><a href="#cb6-124" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-125"><a href="#cb6-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-126"><a href="#cb6-126" aria-hidden="true" tabindex="-1"></a>::: {.column width="48%"}</span>
<span id="cb6-127"><a href="#cb6-127" aria-hidden="true" tabindex="-1"></a><span class="fu">### Multiplayer</span></span>
<span id="cb6-128"><a href="#cb6-128" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Data across multiple machines</span>
<span id="cb6-129"><a href="#cb6-129" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Network delays</span>
<span id="cb6-130"><a href="#cb6-130" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Synchronization challenges</span>
<span id="cb6-131"><a href="#cb6-131" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Complex architecture</span>
<span id="cb6-132"><a href="#cb6-132" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-133"><a href="#cb6-133" aria-hidden="true" tabindex="-1"></a>::::</span>
<span id="cb6-134"><a href="#cb6-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-135"><a href="#cb6-135" aria-hidden="true" tabindex="-1"></a>Communication over a network connection makes creating multiplayer experiences inherently more complex than single-player experiences. The process of sharing information between players involves a different approach than a single-player game. Unreal Engine (UE) features a robust networking framework that powers some of the world's most popular online multiplayer games to help you streamline this process.</span>
<span id="cb6-136"><a href="#cb6-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-137"><a href="#cb6-137" aria-hidden="true" tabindex="-1"></a><span class="fu">## Plan Early for Multiplayer {#sec-plan-early}</span></span>
<span id="cb6-138"><a href="#cb6-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-139"><a href="#cb6-139" aria-hidden="true" tabindex="-1"></a>::: {.callout-warning icon=true}</span>
<span id="cb6-140"><a href="#cb6-140" aria-hidden="true" tabindex="-1"></a><span class="fu">## ⚠️ Critical Planning Advice</span></span>
<span id="cb6-141"><a href="#cb6-141" aria-hidden="true" tabindex="-1"></a>If there is any possibility that your project might need multiplayer features at any time, you should build all your gameplay with multiplayer in mind from the start of your project.</span>
<span id="cb6-142"><a href="#cb6-142" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-143"><a href="#cb6-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-144"><a href="#cb6-144" aria-hidden="true" tabindex="-1"></a><span class="fu">### Benefits of Early Planning</span></span>
<span id="cb6-145"><a href="#cb6-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-146"><a href="#cb6-146" aria-hidden="true" tabindex="-1"></a>If your team consistently implements the extra steps for creating multiplayer, the process of building gameplay will not consume much more time compared to a single-player game. </span>
<span id="cb6-147"><a href="#cb6-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-148"><a href="#cb6-148" aria-hidden="true" tabindex="-1"></a>**Advantages:**</span>
<span id="cb6-149"><a href="#cb6-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-150"><a href="#cb6-150" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>✅ Easier debugging and maintenance</span>
<span id="cb6-151"><a href="#cb6-151" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>✅ Streamlined service updates</span>
<span id="cb6-152"><a href="#cb6-152" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>✅ Single-player functionality preserved</span>
<span id="cb6-153"><a href="#cb6-153" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>✅ Future-proof architecture</span>
<span id="cb6-154"><a href="#cb6-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-155"><a href="#cb6-155" aria-hidden="true" tabindex="-1"></a>::: {.callout-caution}</span>
<span id="cb6-156"><a href="#cb6-156" aria-hidden="true" tabindex="-1"></a><span class="fu">## 🔄 Cost of Refactoring</span></span>
<span id="cb6-157"><a href="#cb6-157" aria-hidden="true" tabindex="-1"></a>If you do not design your project with multiplayer in mind from the beginning, refactoring a codebase that you have already built without networking will require you to:</span>
<span id="cb6-158"><a href="#cb6-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-159"><a href="#cb6-159" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Comb through your entire project</span>
<span id="cb6-160"><a href="#cb6-160" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Rewrite large sections of gameplay functionality</span>
<span id="cb6-161"><a href="#cb6-161" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Reconsider your design due to technical obstacles (network speed, stability)</span>
<span id="cb6-162"><a href="#cb6-162" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Potentially change your existing design</span>
<span id="cb6-163"><a href="#cb6-163" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-164"><a href="#cb6-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-165"><a href="#cb6-165" aria-hidden="true" tabindex="-1"></a>Meanwhile, any gameplay programmed for multiplayer in UE will still work as expected in single-player, non-networked play.</span>
<span id="cb6-166"><a href="#cb6-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-167"><a href="#cb6-167" aria-hidden="true" tabindex="-1"></a><span class="fu">## Unreal Engine Networking Architecture</span></span>
<span id="cb6-168"><a href="#cb6-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-169"><a href="#cb6-169" aria-hidden="true" tabindex="-1"></a>UE uses the client-server architecture for networked multiplayer games. There are two types of multiplayer games: local multiplayer and networked multiplayer. In a single-player or local multiplayer game, your game runs locally on a single machine as a standalone game. In this instance, all players, assets, and functionality exists and all input is processed on a single machine. Players connect input to this machine and control everything directly in the game. There is no potential issue with communicating input from a player to the game because the player is connected directly to the game instance and the game instance can promptly process all input.</span>
<span id="cb6-170"><a href="#cb6-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-171"><a href="#cb6-171" aria-hidden="true" tabindex="-1"></a><span class="al">![Single-player and local multiplayer take place on only one machine.](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/ca5397ee-a048-4787-8ff6-2f5f75b30a30/localplayexample.png)</span></span>
<span id="cb6-172"><a href="#cb6-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-173"><a href="#cb6-173" aria-hidden="true" tabindex="-1"></a>In a networked multiplayer game, many players on distinct machines connect to a central machine across a network. The central machine, known as the server, hosts the multiplayer game while all the other players on different machines connect to the server as clients. The server shares game state information with each connected client and provides the means for all the players on different machines to communicate with one another.</span>
<span id="cb6-174"><a href="#cb6-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-175"><a href="#cb6-175" aria-hidden="true" tabindex="-1"></a><span class="al">![In networked multiplayer, the game takes place between a server and several connected clients. The server processes gameplay and the clients render the game to users.](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/e3bb0f45-1aab-41d6-b726-a43a53b707f4/networkplayexample.png)</span></span>
<span id="cb6-176"><a href="#cb6-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-177"><a href="#cb6-177" aria-hidden="true" tabindex="-1"></a>As opposed to local multiplayer, this presents additional challenges. Different clients might have different network connection speeds and information must be communicated across a potentially unstable network where input might get lost. As a result, at any given time, the state of the game on one client machine is likely to be different than every other client machine. The server, as the host of the game, holds the one, true, authoritative game state. In other words, the server is where the multiplayer game is actually played. The clients each control remote Pawns that they own on the server. Clients send remote procedure calls from their local pawn to their server pawn to perform in game actions. The server then replicates information about the game state to each client such as where Actors are located, how these actors should behave, and what values different variables should have. Each client then uses this information to simulate a close approximation of what is actually happening on the server.</span>
<span id="cb6-178"><a href="#cb6-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-179"><a href="#cb6-179" aria-hidden="true" tabindex="-1"></a><span class="fu"># Client-Server Gameplay Example</span></span>
<span id="cb6-180"><a href="#cb6-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-181"><a href="#cb6-181" aria-hidden="true" tabindex="-1"></a>This section provides a side-by-side comparison of two players in a multiplayer game to illustrate the differences between local and networked multiplayer. On the left, the two players are playing local multiplayer. On the right, the two players are playing networked multiplayer.</span>
<span id="cb6-182"><a href="#cb6-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-183"><a href="#cb6-183" aria-hidden="true" tabindex="-1"></a><span class="al">![](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/169bdea2-2b05-457b-adb3-c90a49c40c9d/localmultiplayerexample.png)</span></span>
<span id="cb6-184"><a href="#cb6-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-185"><a href="#cb6-185" aria-hidden="true" tabindex="-1"></a><span class="fu">## Local Multiplayer vs Networked Multiplayer</span></span>
<span id="cb6-186"><a href="#cb6-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-187"><a href="#cb6-187" aria-hidden="true" tabindex="-1"></a><span class="fu">### Player 1 Fires a Weapon</span></span>
<span id="cb6-188"><a href="#cb6-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-189"><a href="#cb6-189" aria-hidden="true" tabindex="-1"></a>**Local Multiplayer:**</span>
<span id="cb6-190"><a href="#cb6-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-191"><a href="#cb6-191" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 1's Pawn responds to this by firing its current weapon.</span>
<span id="cb6-192"><a href="#cb6-192" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 1's weapon spawns a projectile and plays any accompanying sound or visual effects.</span>
<span id="cb6-193"><a href="#cb6-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-194"><a href="#cb6-194" aria-hidden="true" tabindex="-1"></a>**Networked Multiplayer:**</span>
<span id="cb6-195"><a href="#cb6-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-196"><a href="#cb6-196" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 1's local Pawn relays the command to fire the weapon to its connected Pawn on the server.</span>
<span id="cb6-197"><a href="#cb6-197" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 1's weapon on the server spawns a projectile.</span>
<span id="cb6-198"><a href="#cb6-198" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The server notifies each connected client to create its own copy of Player 1's projectile.</span>
<span id="cb6-199"><a href="#cb6-199" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 1's weapon on the server notifies each client to play the sound and visual effects associated with firing the weapon.</span>
<span id="cb6-200"><a href="#cb6-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-201"><a href="#cb6-201" aria-hidden="true" tabindex="-1"></a><span class="fu">### Projectile Movement</span></span>
<span id="cb6-202"><a href="#cb6-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-203"><a href="#cb6-203" aria-hidden="true" tabindex="-1"></a>**Local Multiplayer:**</span>
<span id="cb6-204"><a href="#cb6-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-205"><a href="#cb6-205" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 1's projectile moves forward from the weapon.</span>
<span id="cb6-206"><a href="#cb6-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-207"><a href="#cb6-207" aria-hidden="true" tabindex="-1"></a>**Networked Multiplayer:**</span>
<span id="cb6-208"><a href="#cb6-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-209"><a href="#cb6-209" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 1's projectile on the server moves forward from the weapon.</span>
<span id="cb6-210"><a href="#cb6-210" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The server notifies each client to replicate the movement of Player 1's projectile as it happens, so each client's version of Player 1's projectile also moves.</span>
<span id="cb6-211"><a href="#cb6-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-212"><a href="#cb6-212" aria-hidden="true" tabindex="-1"></a><span class="fu">### Projectile Collision</span></span>
<span id="cb6-213"><a href="#cb6-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-214"><a href="#cb6-214" aria-hidden="true" tabindex="-1"></a>**Local Multiplayer:**</span>
<span id="cb6-215"><a href="#cb6-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-216"><a href="#cb6-216" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The collision triggers a function that destroys Player 1's projectile, causes damage to Player 2's pawn, and plays any accompanying sound and visual effects.</span>
<span id="cb6-217"><a href="#cb6-217" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 2 plays an on-screen effect as a response to being damaged.</span>
<span id="cb6-218"><a href="#cb6-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-219"><a href="#cb6-219" aria-hidden="true" tabindex="-1"></a>**Networked Multiplayer:**</span>
<span id="cb6-220"><a href="#cb6-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-221"><a href="#cb6-221" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The collision triggers a function that destroys Player 1's projectile on the server.</span>
<span id="cb6-222"><a href="#cb6-222" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The server automatically notifies each client to destroy their copy of Player 1's projectile.</span>
<span id="cb6-223"><a href="#cb6-223" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The collision triggers a function that notifies all clients to play the accompanying sound and visual effects for the collision.</span>
<span id="cb6-224"><a href="#cb6-224" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 2's pawn on the server takes damage from the projectile collision.</span>
<span id="cb6-225"><a href="#cb6-225" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 2's pawn on the server notifies Player 2's client to play an on-screen effect as a response to being damaged.</span>
<span id="cb6-226"><a href="#cb6-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-227"><a href="#cb6-227" aria-hidden="true" tabindex="-1"></a><span class="fu">## Understanding Multiple Worlds</span></span>
<span id="cb6-228"><a href="#cb6-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-229"><a href="#cb6-229" aria-hidden="true" tabindex="-1"></a>In the local multiplayer game, these interactions all take place in the same world on the same machine, so they are simpler to understand and program compared to the networked multiplayer game. For example, when the game spawns an object, you can be assured that all players can see the object since they all exist in the same game world.</span>
<span id="cb6-230"><a href="#cb6-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-231"><a href="#cb6-231" aria-hidden="true" tabindex="-1"></a>In the networked multiplayer game, these interactions take place in several different worlds:</span>
<span id="cb6-232"><a href="#cb6-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-233"><a href="#cb6-233" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Authoritative world on the server</span>
<span id="cb6-234"><a href="#cb6-234" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 1's client world</span>
<span id="cb6-235"><a href="#cb6-235" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Player 2's client world</span>
<span id="cb6-236"><a href="#cb6-236" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Additional worlds for any other clients connected to this server game instance</span>
<span id="cb6-237"><a href="#cb6-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-238"><a href="#cb6-238" aria-hidden="true" tabindex="-1"></a>Each world has its own player controllers, pawns, weapons, and projectiles. The server is where the game is actually played, but each client's world must accurately replicate the events happening on the server, therefore it is necessary to selectively send information to each client to create an accurate visual representation of the world on the server.</span>
<span id="cb6-239"><a href="#cb6-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-240"><a href="#cb6-240" aria-hidden="true" tabindex="-1"></a>This process introduces a division between essential gameplay interactions (collisions, movement, damage), cosmetic effects (visual effects and sounds), and player information (HUD updates). Each of these is relevant to a specific machine or set of machines in the network. The process of replicating this information is not entirely automated and you must specify what information is replicated to which machines in your gameplay programming. The primary challenges involve choosing what information you should replicate to which connections to provide a consistent experience for all players, but also to minimize the amount of information that is replicated so network bandwidth is not constantly saturated.</span>
<span id="cb6-241"><a href="#cb6-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-242"><a href="#cb6-242" aria-hidden="true" tabindex="-1"></a><span class="fu"># Network Modes {#sec-network-modes}</span></span>
<span id="cb6-243"><a href="#cb6-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-244"><a href="#cb6-244" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb6-245"><a href="#cb6-245" aria-hidden="true" tabindex="-1"></a><span class="fu">## 🔌 Network Mode Types</span></span>
<span id="cb6-246"><a href="#cb6-246" aria-hidden="true" tabindex="-1"></a>UE5 supports four different network modes, each suited for specific use cases.</span>
<span id="cb6-247"><a href="#cb6-247" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-248"><a href="#cb6-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-249"><a href="#cb6-249" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Network Mode <span class="pp">|</span> Icon <span class="pp">|</span> Description <span class="pp">|</span> Best Use Case <span class="pp">|</span></span>
<span id="cb6-250"><a href="#cb6-250" aria-hidden="true" tabindex="-1"></a><span class="pp">|--------------|------|-------------|---------------|</span></span>
<span id="cb6-251"><a href="#cb6-251" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **NM_Standalone** <span class="pp">|</span> 🖥️ <span class="pp">|</span> Server running on local machine, not accepting remote clients <span class="pp">|</span> Single-player or local multiplayer games <span class="pp">|</span></span>
<span id="cb6-252"><a href="#cb6-252" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **NM_DedicatedServer** <span class="pp">|</span> 🌐 <span class="pp">|</span> Server with no local players, optimized performance by discarding graphics/sound <span class="pp">|</span> Competitive MOBAs, MMOs, online shooters requiring high-performance, reliable servers <span class="pp">|</span></span>
<span id="cb6-253"><a href="#cb6-253" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **NM_ListenServer** <span class="pp">|</span> 👤🌐 <span class="pp">|</span> Server hosting a local player while accepting remote connections <span class="pp">|</span> Casual cooperative/competitive multiplayer, user-hosted games <span class="pp">|</span></span>
<span id="cb6-254"><a href="#cb6-254" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **NM_Client** <span class="pp">|</span> 💻 <span class="pp">|</span> Not a server; connects to dedicated or listen server <span class="pp">|</span> Player connection to any multiplayer game <span class="pp">|</span></span>
<span id="cb6-255"><a href="#cb6-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-256"><a href="#cb6-256" aria-hidden="true" tabindex="-1"></a>: Network Mode Comparison {#tbl-network-modes}</span>
<span id="cb6-257"><a href="#cb6-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-258"><a href="#cb6-258" aria-hidden="true" tabindex="-1"></a><span class="fu">### Detailed Descriptions</span></span>
<span id="cb6-259"><a href="#cb6-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-260"><a href="#cb6-260" aria-hidden="true" tabindex="-1"></a>::: {.panel-tabset}</span>
<span id="cb6-261"><a href="#cb6-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-262"><a href="#cb6-262" aria-hidden="true" tabindex="-1"></a><span class="fu">## Standalone</span></span>
<span id="cb6-263"><a href="#cb6-263" aria-hidden="true" tabindex="-1"></a>**NM_Standalone** indicates a server running on a local machine and not accepting clients from remote machines. </span>
<span id="cb6-264"><a href="#cb6-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-265"><a href="#cb6-265" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>✅ Best for single-player games</span>
<span id="cb6-266"><a href="#cb6-266" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>✅ Best for local multiplayer</span>
<span id="cb6-267"><a href="#cb6-267" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>✅ Simplest configuration</span>
<span id="cb6-268"><a href="#cb6-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-269"><a href="#cb6-269" aria-hidden="true" tabindex="-1"></a><span class="fu">## Dedicated Server</span></span>
<span id="cb6-270"><a href="#cb6-270" aria-hidden="true" tabindex="-1"></a>**NM_DedicatedServer** has no local players and can run more efficiently by discarding sound, graphics, user input, and other player-oriented features.</span>
<span id="cb6-271"><a href="#cb6-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-272"><a href="#cb6-272" aria-hidden="true" tabindex="-1"></a>**Advantages:**</span>
<span id="cb6-273"><a href="#cb6-273" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>⚡ Maximum performance</span>
<span id="cb6-274"><a href="#cb6-274" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🔒 Enhanced security</span>
<span id="cb6-275"><a href="#cb6-275" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>⚖️ Fair gameplay (no host advantage)</span>
<span id="cb6-276"><a href="#cb6-276" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>📊 Better scalability</span>
<span id="cb6-277"><a href="#cb6-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-278"><a href="#cb6-278" aria-hidden="true" tabindex="-1"></a>**Used by:** Competitive MOBAs, MMO games, online shooters</span>
<span id="cb6-279"><a href="#cb6-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-280"><a href="#cb6-280" aria-hidden="true" tabindex="-1"></a><span class="fu">## Listen Server</span></span>
<span id="cb6-281"><a href="#cb6-281" aria-hidden="true" tabindex="-1"></a>**NM_ListenServer** is a server that hosts a local player but is open to connections from remote players.</span>
<span id="cb6-282"><a href="#cb6-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-283"><a href="#cb6-283" aria-hidden="true" tabindex="-1"></a>**Advantages:**</span>
<span id="cb6-284"><a href="#cb6-284" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🚀 Easy to set up</span>
<span id="cb6-285"><a href="#cb6-285" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>💰 No hosting costs</span>
<span id="cb6-286"><a href="#cb6-286" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>👥 Community-driven servers</span>
<span id="cb6-287"><a href="#cb6-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-288"><a href="#cb6-288" aria-hidden="true" tabindex="-1"></a>**Disadvantages:**</span>
<span id="cb6-289"><a href="#cb6-289" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>⚠️ Host has latency advantage</span>
<span id="cb6-290"><a href="#cb6-290" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>💻 Higher processing load on host</span>
<span id="cb6-291"><a href="#cb6-291" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🔌 Can be terminated by host without warning</span>
<span id="cb6-292"><a href="#cb6-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-293"><a href="#cb6-293" aria-hidden="true" tabindex="-1"></a><span class="fu">## Client</span></span>
<span id="cb6-294"><a href="#cb6-294" aria-hidden="true" tabindex="-1"></a>**NM_Client** is the only mode that is not a server. The local machine connects as a client to a dedicated or listen server and will not run server-side logic.</span>
<span id="cb6-295"><a href="#cb6-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-296"><a href="#cb6-296" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-297"><a href="#cb6-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-298"><a href="#cb6-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-299"><a href="#cb6-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-300"><a href="#cb6-300" aria-hidden="true" tabindex="-1"></a><span class="fu"># Server Types</span></span>
<span id="cb6-301"><a href="#cb6-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-302"><a href="#cb6-302" aria-hidden="true" tabindex="-1"></a><span class="fu">## Listen Server</span></span>
<span id="cb6-303"><a href="#cb6-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-304"><a href="#cb6-304" aria-hidden="true" tabindex="-1"></a>Listen servers are designed to be simple for users to set up spontaneously since any user with a copy of the game can both start a listen server and play on the same machine. Games that support listen servers often feature an in-game user interface (UI) for starting a server or searching for existing servers to join. Listen servers are not without disadvantages. Because the player who is hosting the listen server is playing on the server directly, they have an advantage over the players who are playing as clients on the listen server. This might raise concerns about fairness of the game. On the other hand, there is also an additional processing load associated with running as a server while also supporting player-relevant systems like graphics and audio rendering. These factors make listen servers less suitable for games in highly competitive settings or games with very high network loads, but convenient for casual cooperative and competitive multiplayer among small groups of players.</span>
<span id="cb6-305"><a href="#cb6-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-306"><a href="#cb6-306" aria-hidden="true" tabindex="-1"></a><span class="fu">## Dedicated Server</span></span>
<span id="cb6-307"><a href="#cb6-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-308"><a href="#cb6-308" aria-hidden="true" tabindex="-1"></a>Dedicated servers are more expensive and challenging to configure. They require a separate machine from all the other players participating in the game, complete with its own network connection. All players joining a dedicated server experience the game with a remote, network connection that ensures a better chance of fairness. Since a dedicated server does not render graphics or perform logic only relevant to local players, it is also able to process gameplay events and perform networking functions more efficiently. This makes dedicated servers preferable for games that require large numbers of players or high-performance, trusted servers for security, fairness, and reliability. Such games include Massively Multiplayer Online games (MMOs), competitive Multiplayer Online Battle Arena games (MOBAs), or fast-paced online shooters.</span>
<span id="cb6-309"><a href="#cb6-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-310"><a href="#cb6-310" aria-hidden="true" tabindex="-1"></a><span class="fu"># Replication</span></span>
<span id="cb6-311"><a href="#cb6-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-312"><a href="#cb6-312" aria-hidden="true" tabindex="-1"></a>Replication is the process of the authoritative server sending state data to connected clients. As previously mentioned, the true game state exists on the server. Connected clients replicate this state locally and render graphics and audio so a client can communicate with other clients and participate in the game. If replication is configured correctly, different machines' game instances synchronize and gameplay runs smoothly.</span>
<span id="cb6-313"><a href="#cb6-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-314"><a href="#cb6-314" aria-hidden="true" tabindex="-1"></a>Actors and actor-derived classes are the primary classes designed for replicating their state over a network connection in UE. AActor is the base class for an object that can be placed or spawned in a level and is also the first class in UE's UObject inheritance hierarchy that is supported for networking. UObject-derived classes can also replicate, but they must be attached to an actor as a replicated subobject to replicate properly.</span>
<span id="cb6-315"><a href="#cb6-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-316"><a href="#cb6-316" aria-hidden="true" tabindex="-1"></a>Within the context of UE, there are two different areas that are relevant when talking about replication. First, there are the objects being replicated, flagging the properties requiring replication, and defining functions that are called over a network connection. Most of the information relevant to this can be found in the Actor Replication section. Second, there is the internal system itself that is responsible for the act of replicating objects to the correct machines. With respect to this second point, UE has a few different systems to replicate objects that can be found in the Replication Systems section.</span>
<span id="cb6-317"><a href="#cb6-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-318"><a href="#cb6-318" aria-hidden="true" tabindex="-1"></a><span class="fu">## Actor Replication</span></span>
<span id="cb6-319"><a href="#cb6-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-320"><a href="#cb6-320" aria-hidden="true" tabindex="-1"></a>Actors interact over a network using a few different mechanisms, some of these include: replicated properties, replicated using properties, and remote procedure calls. Replicated Properties are actor properties that replicate their state over the network. Replicated Using Properties are actor properties that replicate their state over the network and subsequently call a function to perform an action when their state is replicated. Remote Procedure Calls give actors the ability to call a function from one machine and run it on a different machine. For example, an actor can call a server remote procedure call on a client and the function will then run on the server once the server receives the network packet.</span>
<span id="cb6-321"><a href="#cb6-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-322"><a href="#cb6-322" aria-hidden="true" tabindex="-1"></a>Actor replication is a highly detailed, multi-step process that involves a few primary steps:</span>
<span id="cb6-323"><a href="#cb6-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-324"><a href="#cb6-324" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Client machine determines what actors need to replicate to which connections</span>
<span id="cb6-325"><a href="#cb6-325" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Server determines the order in which property updates and remote procedure calls are performed and executed</span>
<span id="cb6-326"><a href="#cb6-326" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Server sends relevant information to all other connected clients</span>
<span id="cb6-327"><a href="#cb6-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-328"><a href="#cb6-328" aria-hidden="true" tabindex="-1"></a>By default, most actors do not replicate by default and instead perform their functions locally. You can enable replication for actor-derived classes by setting the <span class="in">`bReplicates`</span> variable in C++ or the Replicates setting in Blueprint to true.</span>
<span id="cb6-329"><a href="#cb6-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-330"><a href="#cb6-330" aria-hidden="true" tabindex="-1"></a><span class="fu">### Replication Features Overview</span></span>
<span id="cb6-331"><a href="#cb6-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-332"><a href="#cb6-332" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Feature <span class="pp">|</span> Description <span class="pp">|</span></span>
<span id="cb6-333"><a href="#cb6-333" aria-hidden="true" tabindex="-1"></a><span class="pp">|---------|-------------|</span></span>
<span id="cb6-334"><a href="#cb6-334" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Creation and Destruction** <span class="pp">|</span> When an authoritative version of a replicated actor is spawned on a server, it automatically generates remote proxies of itself on all connected clients. It will then replicate information to those remote proxies. If you destroy an authoritative actor, it will automatically destroy its remote proxies on all connected clients. <span class="pp">|</span></span>
<span id="cb6-335"><a href="#cb6-335" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Movement** <span class="pp">|</span> If an authoritative actor has Replicate Movement enabled, or <span class="in">`bReplicateMovement`</span> is set to true in C++, it will automatically replicate its Location, Rotation, and Velocity. <span class="pp">|</span></span>
<span id="cb6-336"><a href="#cb6-336" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Properties** <span class="pp">|</span> Any properties that are designated as being replicated automatically replicate from the authoritative actor to its remote proxies whenever their values change. <span class="pp">|</span></span>
<span id="cb6-337"><a href="#cb6-337" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Components** <span class="pp">|</span> Actor components replicate as part of the actor that owns them if they are set to replicate. Any variables within the component that are designated as being replicated will replicate, and any RPCs called within the component will behave consistently with RPCs called in the actor class. <span class="pp">|</span></span>
<span id="cb6-338"><a href="#cb6-338" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Subobjects** <span class="pp">|</span> Any UObject-derived can be attached to an actor and replicated as a subobject. <span class="pp">|</span></span>
<span id="cb6-339"><a href="#cb6-339" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Remote Procedure Calls** <span class="pp">|</span> RPCs are special functions that are transmitted to specific machines in a network game. No matter what machine an RPC is initially called on, its implementation will run only on the machine it is intended for. These may be designated as Server (only runs on the server), Client (only runs on the Actor's owning client), or NetMulticast (runs on every machine connected to the session, including the server). <span class="pp">|</span></span>
<span id="cb6-340"><a href="#cb6-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-341"><a href="#cb6-341" aria-hidden="true" tabindex="-1"></a><span class="fu">### Non-Replicated Features</span></span>
<span id="cb6-342"><a href="#cb6-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-343"><a href="#cb6-343" aria-hidden="true" tabindex="-1"></a>Common use cases such as creation, destruction, and movement are handled automatically, but all other gameplay features do not replicate by default, even when you enable replication for an actor. You must manually designate:</span>
<span id="cb6-344"><a href="#cb6-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-345"><a href="#cb6-345" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Properties to replicate and any custom conditions</span>
<span id="cb6-346"><a href="#cb6-346" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Functions to replicate and manually call them in your code</span>
<span id="cb6-347"><a href="#cb6-347" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Components and subobjects to replicate and any of their associated properties and functions</span>
<span id="cb6-348"><a href="#cb6-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-349"><a href="#cb6-349" aria-hidden="true" tabindex="-1"></a>Several common features of actors, pawns, and characters do not replicate, such as:</span>
<span id="cb6-350"><a href="#cb6-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-351"><a href="#cb6-351" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Skeletal Mesh Component</span>
<span id="cb6-352"><a href="#cb6-352" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Static Mesh Component</span>
<span id="cb6-353"><a href="#cb6-353" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Materials</span>
<span id="cb6-354"><a href="#cb6-354" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Animation Blueprints</span>
<span id="cb6-355"><a href="#cb6-355" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Particle System Component</span>
<span id="cb6-356"><a href="#cb6-356" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sound Emitters</span>
<span id="cb6-357"><a href="#cb6-357" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Physics Objects</span>
<span id="cb6-358"><a href="#cb6-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-359"><a href="#cb6-359" aria-hidden="true" tabindex="-1"></a>Each of these run separately on all clients, however, if the variables that drive these visual elements are replicated, it ensures that all clients have the same information and each simulates these features in approximately the same manner.</span>
<span id="cb6-360"><a href="#cb6-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-361"><a href="#cb6-361" aria-hidden="true" tabindex="-1"></a><span class="fu"># Debugging, Profiling, and Testing</span></span>
<span id="cb6-362"><a href="#cb6-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-363"><a href="#cb6-363" aria-hidden="true" tabindex="-1"></a>The added complexity of multiple game instances, varying reliability of network connections, and differing functionality between a server and clients makes debugging, profiling, and testing networked multiplayer games an essential part of the development process. UE provides several features and specialized tools to help you debug, profile and test your project.</span>
<span id="cb6-364"><a href="#cb6-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-365"><a href="#cb6-365" aria-hidden="true" tabindex="-1"></a><span class="fu"># Replication Systems</span></span>
<span id="cb6-366"><a href="#cb6-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-367"><a href="#cb6-367" aria-hidden="true" tabindex="-1"></a>UE now provides three different systems to replicate state data over a network connection:</span>
<span id="cb6-368"><a href="#cb6-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-369"><a href="#cb6-369" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Generic Replication System</span>
<span id="cb6-370"><a href="#cb6-370" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Replication Graph</span>
<span id="cb6-371"><a href="#cb6-371" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Iris Replication System</span>
<span id="cb6-372"><a href="#cb6-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-373"><a href="#cb6-373" aria-hidden="true" tabindex="-1"></a>Before you start designing your networked multiplayer game, decide which replication system is best for you by reading more about each of them and what they offer.</span>
<span id="cb6-374"><a href="#cb6-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-375"><a href="#cb6-375" aria-hidden="true" tabindex="-1"></a><span class="fu"># Networking Tips {#sec-networking-tips}</span></span>
<span id="cb6-376"><a href="#cb6-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-377"><a href="#cb6-377" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip icon=true}</span>
<span id="cb6-378"><a href="#cb6-378" aria-hidden="true" tabindex="-1"></a><span class="fu">## 💡 Best Practices for UE5 Networking</span></span>
<span id="cb6-379"><a href="#cb6-379" aria-hidden="true" tabindex="-1"></a>Follow these summarized tips to optimize your networked multiplayer game.</span>
<span id="cb6-380"><a href="#cb6-380" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-381"><a href="#cb6-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-382"><a href="#cb6-382" aria-hidden="true" tabindex="-1"></a><span class="fu">## RPC Best Practices</span></span>
<span id="cb6-383"><a href="#cb6-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-384"><a href="#cb6-384" aria-hidden="true" tabindex="-1"></a><span class="fu">### Minimize RPC Usage</span></span>
<span id="cb6-385"><a href="#cb6-385" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>📉 **Use as few RPCs as possible** - If you can use a RepNotify property instead, you should</span>
<span id="cb6-386"><a href="#cb6-386" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🎯 **Prefer RepNotify over RPCs** - Variables are more reliable for persistent state</span>
<span id="cb6-387"><a href="#cb6-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-388"><a href="#cb6-388" aria-hidden="true" tabindex="-1"></a><span class="fu">### Multicast Considerations</span></span>
<span id="cb6-389"><a href="#cb6-389" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>⚠️ **Use multicast functions sparingly** - They create extra network traffic for each connected client</span>
<span id="cb6-390"><a href="#cb6-390" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>📊 **Consider the cost** - Every client receives the call, multiplying bandwidth usage</span>
<span id="cb6-391"><a href="#cb6-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-392"><a href="#cb6-392" aria-hidden="true" tabindex="-1"></a><span class="fu">### Server-Side Logic</span></span>
<span id="cb6-393"><a href="#cb6-393" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🖥️ **Server-only logic placement** - Doesn't necessarily have to be in a server RPC if you can guarantee non-replicated function only executes on server</span>
<span id="cb6-394"><a href="#cb6-394" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🔒 **Authority checks** - Use <span class="in">`Switch Has Authority`</span> to control execution</span>
<span id="cb6-395"><a href="#cb6-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-396"><a href="#cb6-396" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reliability Guidelines</span></span>
<span id="cb6-397"><a href="#cb6-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-398"><a href="#cb6-398" aria-hidden="true" tabindex="-1"></a><span class="fu">### Input-Bound RPCs</span></span>
<span id="cb6-399"><a href="#cb6-399" aria-hidden="true" tabindex="-1"></a>::: {.callout-warning}</span>
<span id="cb6-400"><a href="#cb6-400" aria-hidden="true" tabindex="-1"></a>⚠️ **Caution with player input:** Players can rapidly press buttons and overflow the reliable RPC queue. Implement rate limiting mechanisms.</span>
<span id="cb6-401"><a href="#cb6-401" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-402"><a href="#cb6-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-403"><a href="#cb6-403" aria-hidden="true" tabindex="-1"></a><span class="fu">### Frequent Calls</span></span>
<span id="cb6-404"><a href="#cb6-404" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🔄 **Make RPCs unreliable if called often** - Especially inside actor tick functions</span>
<span id="cb6-405"><a href="#cb6-405" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>⏱️ **Avoid reliable RPCs in loops** - Can quickly saturate bandwidth</span>
<span id="cb6-406"><a href="#cb6-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-407"><a href="#cb6-407" aria-hidden="true" tabindex="-1"></a><span class="fu">## Optimization Strategies</span></span>
<span id="cb6-408"><a href="#cb6-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-409"><a href="#cb6-409" aria-hidden="true" tabindex="-1"></a><span class="fu">### Function Recycling</span></span>
<span id="cb6-410"><a href="#cb6-410" aria-hidden="true" tabindex="-1"></a>♻️ **Recycle functions when possible:**</span>
<span id="cb6-411"><a href="#cb6-411" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Call them in response to gameplay logic</span>
<span id="cb6-412"><a href="#cb6-412" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use them as RepNotifies</span>
<span id="cb6-413"><a href="#cb6-413" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Ensures parallel execution on server and clients</span>
<span id="cb6-414"><a href="#cb6-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-415"><a href="#cb6-415" aria-hidden="true" tabindex="-1"></a><span class="fu">### Conditional Execution</span></span>
<span id="cb6-416"><a href="#cb6-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-417"><a href="#cb6-417" aria-hidden="true" tabindex="-1"></a>**Network Role Check:**</span>
<span id="cb6-418"><a href="#cb6-418" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Check your actor's network role</span>
<span id="cb6-419"><a href="#cb6-419" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Useful for filtering execution in functions that activate on both server and client</span>
<span id="cb6-420"><a href="#cb6-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-421"><a href="#cb6-421" aria-hidden="true" tabindex="-1"></a>**Local Control Check:**</span>
<span id="cb6-422"><a href="#cb6-422" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Check if your pawn is locally controlled using <span class="in">`IsLocallyControlled`</span></span>
<span id="cb6-423"><a href="#cb6-423" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Useful for filtering based on pawn ownership</span>
<span id="cb6-424"><a href="#cb6-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-425"><a href="#cb6-425" aria-hidden="true" tabindex="-1"></a><span class="fu">## Critical Optimizations</span></span>
<span id="cb6-426"><a href="#cb6-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-427"><a href="#cb6-427" aria-hidden="true" tabindex="-1"></a>::: {.callout-important}</span>
<span id="cb6-428"><a href="#cb6-428" aria-hidden="true" tabindex="-1"></a><span class="fu">## 🚀 Network Dormancy</span></span>
<span id="cb6-429"><a href="#cb6-429" aria-hidden="true" tabindex="-1"></a>**Make use of network dormancy** - It is one of the most significant optimizations you can make in your network gameplay.</span>
<span id="cb6-430"><a href="#cb6-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-431"><a href="#cb6-431" aria-hidden="true" tabindex="-1"></a>Network dormancy allows actors to "sleep" when they're not actively changing, reducing bandwidth consumption dramatically.</span>
<span id="cb6-432"><a href="#cb6-432" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-433"><a href="#cb6-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-434"><a href="#cb6-434" aria-hidden="true" tabindex="-1"></a><span class="fu">## Quick Reference Checklist</span></span>
<span id="cb6-435"><a href="#cb6-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-436"><a href="#cb6-436" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Minimize RPC usage (prefer RepNotify)</span>
<span id="cb6-437"><a href="#cb6-437" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Use multicast sparingly</span>
<span id="cb6-438"><a href="#cb6-438" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Implement rate limiting for input-bound RPCs</span>
<span id="cb6-439"><a href="#cb6-439" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Make frequently-called RPCs unreliable</span>
<span id="cb6-440"><a href="#cb6-440" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Recycle functions as RepNotifies</span>
<span id="cb6-441"><a href="#cb6-441" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Check network roles appropriately</span>
<span id="cb6-442"><a href="#cb6-442" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Implement network dormancy</span>
<span id="cb6-443"><a href="#cb6-443" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Test with realistic network conditions</span>
<span id="cb6-444"><a href="#cb6-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-445"><a href="#cb6-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-446"><a href="#cb6-446" aria-hidden="true" tabindex="-1"></a><span class="fu"># Multiplayer in Blueprints</span></span>
<span id="cb6-447"><a href="#cb6-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-448"><a href="#cb6-448" aria-hidden="true" tabindex="-1"></a>UE5 provides a lot of multiplayer functionality out of the box, and it's easy to set up a basic Blueprint game that works over a network. It's easy to dive in and start playing multiplayer. Most of the logic to make basic multiplayer work is thanks to the built-in networking support in the Character class, and its CharacterMovementComponent, which the Third Person template project uses.</span>
<span id="cb6-449"><a href="#cb6-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-450"><a href="#cb6-450" aria-hidden="true" tabindex="-1"></a><span class="fu">## Gameplay Framework Review</span></span>
<span id="cb6-451"><a href="#cb6-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-452"><a href="#cb6-452" aria-hidden="true" tabindex="-1"></a>To add multiplayer functionality to your game, it's important to understand the roles of the major gameplay classes that are provided by the engine and how they work together – and especially, how they work in a multiplayer context:</span>
<span id="cb6-453"><a href="#cb6-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-454"><a href="#cb6-454" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**GameInstance**</span>
<span id="cb6-455"><a href="#cb6-455" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**GameMode**</span>
<span id="cb6-456"><a href="#cb6-456" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**GameState**</span>
<span id="cb6-457"><a href="#cb6-457" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Pawn** (and Character, which inherits from Pawn)</span>
<span id="cb6-458"><a href="#cb6-458" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**PlayerController**</span>
<span id="cb6-459"><a href="#cb6-459" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**PlayerState**</span>
<span id="cb6-460"><a href="#cb6-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-461"><a href="#cb6-461" aria-hidden="true" tabindex="-1"></a><span class="fu">### Key Points for Multiplayer Design</span></span>
<span id="cb6-462"><a href="#cb6-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-463"><a href="#cb6-463" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**GameInstance** exists for the duration of the engine's session, meaning that it is created when the engine starts up and not destroyed or replaced until the engine shuts down. A separate GameInstance exists on the server and on each client, and these instances do not communicate with each other. Because the GameInstance exists outside of the game session and is the only game structure that exists across level loads, it is a good place to store certain types of persistent data, such as lifetime player statistics (e.g. total number of games won), account information (e.g. locked/unlocked status of special items), or even a list of maps to rotate through in a competitive game like Unreal Tournament.</span>
<span id="cb6-464"><a href="#cb6-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-465"><a href="#cb6-465" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**GameMode** object only exists on the server. It generally stores information related to the game that clients do not need to know explicitly. For example, if a game has special rules like "rocket launchers only", the clients may not need to know this rule, but when randomly spawning weapons around the map, the server needs to know to pick only from the "rocket launcher" category.</span>
<span id="cb6-466"><a href="#cb6-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-467"><a href="#cb6-467" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**GameState** exists on the server and the clients, so the server can use replicated variables on the GameState to keep all clients up-to-date on data about the game. Information that is of interest to all players and spectators, but isn't associated with any one specific player, is ideal for GameState replication. As an example, a baseball game could replicate each team's score and the current inning via the GameState.</span>
<span id="cb6-468"><a href="#cb6-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-469"><a href="#cb6-469" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**PlayerController** - One PlayerController exists on each client per player on that machine. These are replicated between the server and the associated client, but are not replicated to other clients, resulting in the server having PlayerControllers for every player, but local clients having only the PlayerControllers for their local players. PlayerControllers exist while the client is connected, and are associated with Pawns, but are not destroyed and respawned like Pawns often are. They are well-suited to communicating information between clients and servers without replicating this information to other clients, such as the server telling the client to ping its minimap in response to a game event that only that player detects.</span>
<span id="cb6-470"><a href="#cb6-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-471"><a href="#cb6-471" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**PlayerState** will exist for every player connected to the game on both the server and the clients. This class can be used for replicated properties that all clients, not just the owning client, are interested in, such as the individual player's current score in a free-for-all game. Like the PlayerController, they are associated with individual Pawns, and are not destroyed and respawned when the Pawn is.</span>
<span id="cb6-472"><a href="#cb6-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-473"><a href="#cb6-473" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Pawns** (including Characters) will also exist on the server and on all clients, and can contain replicated variables and events. The decision of whether to use the PlayerController, the PlayerState, or the Pawn for a certain variable or event will depend on the situation, but the main thing to keep in mind is that the PlayerController and PlayerState will persist as long as the owning player stays connected to the game and the game doesn't load a new level, whereas a Pawn may not. For example, if a Pawn dies during gameplay, it will usually be destroyed and replaced with a new Pawn, while the PlayerController and PlayerState will continue to exist and will be associated with the new Pawn once it finishes spawning. The Pawn's health, therefore, would be stored on the Pawn itself, since that is specific to the actual instance of the Pawn and should be reset when the Pawn is replaced with a new one.</span>
<span id="cb6-474"><a href="#cb6-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-475"><a href="#cb6-475" aria-hidden="true" tabindex="-1"></a><span class="fu">## Actor Replication in Blueprints</span></span>
<span id="cb6-476"><a href="#cb6-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-477"><a href="#cb6-477" aria-hidden="true" tabindex="-1"></a>The core of the networking technology in UE5 is actor replication. An actor with its "Replicates" flag set to true will automatically be synchronized from the server to clients who are connected to that server. An important point to understand is that actors are only replicated from the server to the clients - it's not possible to have an actor replicate from a client to the server. Of course, clients still need to be able to send data to the server, and they do this through replicated "Run on server" events.</span>
<span id="cb6-478"><a href="#cb6-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-479"><a href="#cb6-479" aria-hidden="true" tabindex="-1"></a><span class="fu">### Authority</span></span>
<span id="cb6-480"><a href="#cb6-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-481"><a href="#cb6-481" aria-hidden="true" tabindex="-1"></a>For every actor in the world, one of the connected players is considered to have authority over that actor. For every actor that exists on the server, the server has authority over that actor – including all replicated actors. As a result, when the <span class="in">`Has Authority`</span> function is run on a client, and the target is an actor that was replicated to him, it will return false. You can also use the <span class="in">`Switch Has Authority`</span> convenience macro as a quick way to branch for different server and client behavior in replicated actors.</span>
<span id="cb6-482"><a href="#cb6-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-483"><a href="#cb6-483" aria-hidden="true" tabindex="-1"></a><span class="fu">### Variables</span></span>
<span id="cb6-484"><a href="#cb6-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-485"><a href="#cb6-485" aria-hidden="true" tabindex="-1"></a>In the details panel of variables on your actors, there is a Replication drop-down that lets you control how your variables are replicated, if at all.</span>
<span id="cb6-486"><a href="#cb6-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-487"><a href="#cb6-487" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Option <span class="pp">|</span> Description <span class="pp">|</span></span>
<span id="cb6-488"><a href="#cb6-488" aria-hidden="true" tabindex="-1"></a><span class="pp">|--------|-------------|</span></span>
<span id="cb6-489"><a href="#cb6-489" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **None** <span class="pp">|</span> This is the default for new variables and means the value will not be sent over the network to clients. <span class="pp">|</span></span>
<span id="cb6-490"><a href="#cb6-490" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Replicated** <span class="pp">|</span> When the server replicates this actor, it will send this variable to clients. The value of the variable on the receiving client will update automatically, so that the next time it's accessed, it will reflect what the value was on the server. Of course, when playing over a real-world network, the updates will be delayed by an amount of time dependent on the network's latency. Remember that replicated variables only go in one direction, from the server to the client! To send data from a client to the server, see the "Events" section. <span class="pp">|</span></span>
<span id="cb6-491"><a href="#cb6-491" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **RepNotify** <span class="pp">|</span> The variable will be replicated as in the Replicated option, but in addition, an <span class="in">`OnRep_&lt;variable name&gt;`</span> function will be created in your blueprint. This function will be called by the engine automatically on the client and the server whenever the value of this variable changes. You're free to implement this function however you'd like, as needed by your game. <span class="pp">|</span></span>
<span id="cb6-492"><a href="#cb6-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-493"><a href="#cb6-493" aria-hidden="true" tabindex="-1"></a>**Note:** Many of the variables in the engine's built-in classes already have replication enabled, so that many features work automatically in a multiplayer context.</span>
<span id="cb6-494"><a href="#cb6-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-495"><a href="#cb6-495" aria-hidden="true" tabindex="-1"></a><span class="fu">### Spawning and Destroying</span></span>
<span id="cb6-496"><a href="#cb6-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-497"><a href="#cb6-497" aria-hidden="true" tabindex="-1"></a>When a replicated actor is spawned on the server, this is communicated to clients, and they will also automatically spawn a copy of that actor. But since, in general, replication doesn't occur from clients to the server, if a replicated actor is spawned on a client, that actor will only exist on the client that spawned it. Neither the server nor any other client will receive a copy of the actor. The spawning client will, however, have authority over the actor. This can still be useful for things like cosmetic actors that don't really influence gameplay, but for actors that do influence gameplay and should be replicated, it's best to make sure they are spawned on the server.</span>
<span id="cb6-498"><a href="#cb6-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-499"><a href="#cb6-499" aria-hidden="true" tabindex="-1"></a>The situation is similar for destroying replicated actors: if the server destroys one, all clients will destroy their respective copies as well. Clients are free to destroy actors for which they have authority - that is, actors they have spawned themselves - since these are not replicated to other players and wouldn't have any effect on them. If a client tries to destroy an actor for which he is not the authority, the destroy request will be ignored. The key point here is the same for spawning actors: if you need to destroy a replicated actor, destroy it on the server.</span>
<span id="cb6-500"><a href="#cb6-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-501"><a href="#cb6-501" aria-hidden="true" tabindex="-1"></a><span class="fu">### Event Replication</span></span>
<span id="cb6-502"><a href="#cb6-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-503"><a href="#cb6-503" aria-hidden="true" tabindex="-1"></a>In Blueprints, in addition to replicating actors and their variables, you can also run events across the clients and the server.</span>
<span id="cb6-504"><a href="#cb6-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-505"><a href="#cb6-505" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ownership</span></span>
<span id="cb6-506"><a href="#cb6-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-507"><a href="#cb6-507" aria-hidden="true" tabindex="-1"></a>An important concept to understand when working on multiplayer, and especially with replicated events, is which connection is considered to be the owner of a particular actor or component. For our purposes, know that "Run on server" events can only be invoked from actors (or their components) which the client owns. Usually, this means you can only send "Run on server" events from the following actors, or from a component of one of the actors:</span>
<span id="cb6-508"><a href="#cb6-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-509"><a href="#cb6-509" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The client's PlayerController itself</span>
<span id="cb6-510"><a href="#cb6-510" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>A Pawn that the client's PlayerController possesses, or</span>
<span id="cb6-511"><a href="#cb6-511" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The client's PlayerState</span>
<span id="cb6-512"><a href="#cb6-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-513"><a href="#cb6-513" aria-hidden="true" tabindex="-1"></a>Likewise, for a server sending "Run on owning client" events, those events should also be invoked on one of these actors. Otherwise, the server won't know which client to send the event to, and it will only run on the server!</span>
<span id="cb6-514"><a href="#cb6-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-515"><a href="#cb6-515" aria-hidden="true" tabindex="-1"></a><span class="fu">### Events</span></span>
<span id="cb6-516"><a href="#cb6-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-517"><a href="#cb6-517" aria-hidden="true" tabindex="-1"></a>In the details panel of your custom events, you can set how the event is replicated, if at all.</span>
<span id="cb6-518"><a href="#cb6-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-519"><a href="#cb6-519" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Option <span class="pp">|</span> Description <span class="pp">|</span></span>
<span id="cb6-520"><a href="#cb6-520" aria-hidden="true" tabindex="-1"></a><span class="pp">|--------|-------------|</span></span>
<span id="cb6-521"><a href="#cb6-521" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Not Replicated** <span class="pp">|</span> This is the default and means there will be no replication for this event. If it is invoked on a client, it will only run on that client, and if it is invoked on the server, it will only run on the server. <span class="pp">|</span></span>
<span id="cb6-522"><a href="#cb6-522" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Multicast** <span class="pp">|</span> If a multicast event is invoked on the server, it will be replicated to all connected clients - regardless of which connection owns the target object. If a client invokes a multicast event, it will be treated as if it wasn't replicated, and it will only run on the client that invoked it. <span class="pp">|</span></span>
<span id="cb6-523"><a href="#cb6-523" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Run on Server** <span class="pp">|</span> If this event is invoked from the server, it will only run on the server. If it's invoked from a client, with a target that the client owns, it will be replicated to and run on the server. "Run on Server" events are the primary method for clients to send data to the server. <span class="pp">|</span></span>
<span id="cb6-524"><a href="#cb6-524" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Run on Owning Client** <span class="pp">|</span> If invoked from the server, this event will run on the client who owns the target actor. Since the server can own actors itself, a "Run on Owning Client" event may run on the server, despite its name. If invoked from a client, the event will be treated as if it isn't replicated, and it will only run on the client that invoked it. <span class="pp">|</span></span>
<span id="cb6-525"><a href="#cb6-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-526"><a href="#cb6-526" aria-hidden="true" tabindex="-1"></a><span class="fu">### Replication Behavior Tables</span></span>
<span id="cb6-527"><a href="#cb6-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-528"><a href="#cb6-528" aria-hidden="true" tabindex="-1"></a>**If the event is invoked from the server:**</span>
<span id="cb6-529"><a href="#cb6-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-530"><a href="#cb6-530" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="pp">|</span> Not replicated <span class="pp">|</span> Multicast <span class="pp">|</span> Run on Server <span class="pp">|</span> Run on Owning Client <span class="pp">|</span></span>
<span id="cb6-531"><a href="#cb6-531" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span>-<span class="pp">|----------------|-----------|---------------|---------------------|</span></span>
<span id="cb6-532"><a href="#cb6-532" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Client-owned target** <span class="pp">|</span> Server <span class="pp">|</span> Server and all clients <span class="pp">|</span> Server <span class="pp">|</span> Target's owning client <span class="pp">|</span></span>
<span id="cb6-533"><a href="#cb6-533" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Server-owned target** <span class="pp">|</span> Server <span class="pp">|</span> Server and all clients <span class="pp">|</span> Server <span class="pp">|</span> Server <span class="pp">|</span></span>
<span id="cb6-534"><a href="#cb6-534" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Unowned target** <span class="pp">|</span> Server <span class="pp">|</span> Server and all clients <span class="pp">|</span> Server <span class="pp">|</span> Server <span class="pp">|</span></span>
<span id="cb6-535"><a href="#cb6-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-536"><a href="#cb6-536" aria-hidden="true" tabindex="-1"></a>**If the event is invoked from a client:**</span>
<span id="cb6-537"><a href="#cb6-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-538"><a href="#cb6-538" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="pp">|</span> Not replicated <span class="pp">|</span> Multicast <span class="pp">|</span> Run on Server <span class="pp">|</span> Run on Owning Client <span class="pp">|</span></span>
<span id="cb6-539"><a href="#cb6-539" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span>-<span class="pp">|----------------|-----------|---------------|---------------------|</span></span>
<span id="cb6-540"><a href="#cb6-540" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Target owned by invoking client** <span class="pp">|</span> Invoking client <span class="pp">|</span> Invoking client <span class="pp">|</span> Server <span class="pp">|</span> Invoking client <span class="pp">|</span></span>
<span id="cb6-541"><a href="#cb6-541" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Target owned by a different client** <span class="pp">|</span> Invoking client <span class="pp">|</span> Invoking client <span class="pp">|</span> Dropped <span class="pp">|</span> Invoking client <span class="pp">|</span></span>
<span id="cb6-542"><a href="#cb6-542" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Server-owned target** <span class="pp">|</span> Invoking client <span class="pp">|</span> Invoking client <span class="pp">|</span> Dropped <span class="pp">|</span> Invoking client <span class="pp">|</span></span>
<span id="cb6-543"><a href="#cb6-543" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> **Unowned target** <span class="pp">|</span> Invoking client <span class="pp">|</span> Invoking client <span class="pp">|</span> Dropped <span class="pp">|</span> Invoking client <span class="pp">|</span></span>
<span id="cb6-544"><a href="#cb6-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-545"><a href="#cb6-545" aria-hidden="true" tabindex="-1"></a>As you can see from the table above, any events that are invoked from a client and that are not set to Run on Server are treated as if they are not replicated.</span>
<span id="cb6-546"><a href="#cb6-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-547"><a href="#cb6-547" aria-hidden="true" tabindex="-1"></a>Sending a replicated event from the client to the server is the only way to communicate information from a client to the server, since general actor replication is designed to be server-to-client only.</span>
<span id="cb6-548"><a href="#cb6-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-549"><a href="#cb6-549" aria-hidden="true" tabindex="-1"></a>Also, note that multicast events can only be sent from the server. Because of Unreal's client-server model, a client isn't directly connected to any of the other clients, he's only connected to the server. Therefore, a client is unable to send a multicast event directly to the other clients and must only communicate with the server. You can emulate this behavior, however, by using two replicated events: one Run on server event, and one Multicast event. The implementation of the Run on server event can perform validation, if desired, and then call the multicast event. The implementation of the multicast event would perform the logic that you'd like to run for all connected players.</span>
<span id="cb6-550"><a href="#cb6-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-551"><a href="#cb6-551" aria-hidden="true" tabindex="-1"></a><span class="fu">### Join-in-Progress Considerations</span></span>
<span id="cb6-552"><a href="#cb6-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-553"><a href="#cb6-553" aria-hidden="true" tabindex="-1"></a>One thing to keep in mind when using replicated events to communicate game state changes is how they interact with a game that supports join-in-progress. If a player joins a game in progress, any replicated events that occurred before the join will not be executed for the new player. The takeaway here is that if you want your game to work well with join-in-progress, it's usually best to synchronize important gameplay data via replicated variables. A pattern that comes up often is that a client performs some action in the world, notifies the server about the action via a "Run on server" event, and in the implementation of that event, the server updates some replicated variables based on the action. Then the other clients, who did not perform the action, still see the result of the action via the replicated variables. In addition, any clients who join-in-progress after the action has occurred will also see the correct state of the world, since they receive the most recent value of the replicated variables from the server. If the server had instead only sent an event, the join-in-progress players wouldn't know about the action that was performed!</span>
<span id="cb6-554"><a href="#cb6-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-555"><a href="#cb6-555" aria-hidden="true" tabindex="-1"></a><span class="fu">### Reliability</span></span>
<span id="cb6-556"><a href="#cb6-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-557"><a href="#cb6-557" aria-hidden="true" tabindex="-1"></a>For any replicated event, you can choose whether it is Reliable or Unreliable.</span>
<span id="cb6-558"><a href="#cb6-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-559"><a href="#cb6-559" aria-hidden="true" tabindex="-1"></a>**Reliable** events are guaranteed to reach their destination (assuming the ownership rules above are followed), but they introduce more bandwidth, and potentially latency, to meet this guarantee. Try to avoid sending reliable events too often, such as on every tick, since the engine's internal buffer of reliable events may overflow - when this happens, the associated player will be disconnected!</span>
<span id="cb6-560"><a href="#cb6-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-561"><a href="#cb6-561" aria-hidden="true" tabindex="-1"></a>**Unreliable** events work as their name implies - they may not reach their destination, in case of packet loss on the network, or if the engine determines there is a lot of higher-priority traffic it needs to send, for example. As a result, unreliable events use less bandwidth than reliable events, and they can be called safely more often.</span>
<span id="cb6-562"><a href="#cb6-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-563"><a href="#cb6-563" aria-hidden="true" tabindex="-1"></a><span class="fu"># Hands On</span></span>
<span id="cb6-564"><a href="#cb6-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-565"><a href="#cb6-565" aria-hidden="true" tabindex="-1"></a>For this Hands On, we are going to use the ContentExamples project. Open this project and then open the Network_Features map.</span>
<span id="cb6-566"><a href="#cb6-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-567"><a href="#cb6-567" aria-hidden="true" tabindex="-1"></a><span class="fu">## Understanding Client-Server Model</span></span>
<span id="cb6-568"><a href="#cb6-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-569"><a href="#cb6-569" aria-hidden="true" tabindex="-1"></a>The first thing to understand with Unreal's networking, in Blueprints and in code, is that the games will run on what is called a client-server model. That means basically, if you have a server machine who is serving as the host of the game, and it's allowing potentially multiple clients to connect to it and communicate data with it back and forth. The thing you want to notice here is that the communication between the client and server is happening such that the client sends data to the server, and then the server sends any of that data out to the other clients. The clients, for gameplay purposes, usually don't communicate directly with each other.</span>
<span id="cb6-570"><a href="#cb6-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-571"><a href="#cb6-571" aria-hidden="true" tabindex="-1"></a>An example here would be if you are a client attached and you are using the keyboard, and you are playing a shooter and you use your WASD keys; you press W to move forward, you would tell the server that you moved forward and then he would broadcast the information necessary for all the other clients to know how you moved. An important thing to keep in mind in how all this works is that throughout all the process, the server is basically the "king". You want to always make sure the things that are very important from a gameplay perspective; in terms of like the rules, or who wins, who loses, if you modify somebody's health, anything that helps determine how gameplay functions happens exclusively on the server. Then if clients need to know about it, we make sure that we tell them that for the purposes of like if they have to display UI or updating visual information. But again, if we had our shooter example if two players are shooting at each other when one actually takes damage, you want the server to be the one that determines that and who actually subtracts the damage, so that the client machines can't actually cheat.</span>
<span id="cb6-572"><a href="#cb6-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-573"><a href="#cb6-573" aria-hidden="true" tabindex="-1"></a><span class="fu">## Server Types: Listen vs Dedicated</span></span>
<span id="cb6-574"><a href="#cb6-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-575"><a href="#cb6-575" aria-hidden="true" tabindex="-1"></a>When we talk about servers in UE5, we basically are focusing on two different types. The first is known as the **listen server**. The easy way to think about this is that the machine that is hosting the game and acting as the authority, is also running a client on it at the same time. So if you pretend that you are hosting a game on your own computer and you invite your friends to join you, and they type in your IP address and you connect to each other, in this case, you would be the listen server. Your machine is operating as the server for the whole game, but you yourself are also playing. You have a monitor, you are seeing visuals rendering, and you are entering input directly.</span>
<span id="cb6-576"><a href="#cb6-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-577"><a href="#cb6-577" aria-hidden="true" tabindex="-1"></a>Conversely, the other one you often hear about is a **dedicated server**, which as the name kind implies is exclusively devoted to acting as the server for other clients to join. So that historically does not have input or rendering going on. There is not a local player playing on the server. Dedicated servers traditionally also have optimizations that allow them to be cheaper, obviously because they're not rendering anything. Some games will also even make the executable for the dedicated server an entirely separate executable that only contain special logic that it knows to also help prevent against cheating. For the sake of this assignment we will mostly be looking at listen servers, but the basic general gist of all the things we are going to go over will apply to both cases.</span>
<span id="cb6-578"><a href="#cb6-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-579"><a href="#cb6-579" aria-hidden="true" tabindex="-1"></a><span class="fu">## Replication Explained</span></span>
<span id="cb6-580"><a href="#cb6-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-581"><a href="#cb6-581" aria-hidden="true" tabindex="-1"></a>One more thing we want to cover is the concept of replication. Replication is a word you are going to hear a lot throughout this assignment, and it is important to understand. The very simple explanation of it is just to assume that it is data and commands basically being communicated between these machines back and forth and how we ought to do that. Considering the shooter example, if we have our guy here with his full health and he is really happy, how we handle when he takes damage and then send it to the other client that he is now sad, and he has lost health? We would call this replicating the health value. The server itself has handled the change. It has made sure that the change is legitimate. It has decremented his health, and then it replicates that value to clients so that they can see what the value is and if they want to display a health bar or things like that.</span>
<span id="cb6-582"><a href="#cb6-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-583"><a href="#cb6-583" aria-hidden="true" tabindex="-1"></a>So, whenever we say replication or whenever we're talking about that, we're effectively meaning the transmission of different data and commands between these machines and how they communicate. There are a lot of things we can replicate. We can replicate variables like health here. We can replicate the existence or non-existence of actors. So, we could say that this guy doesn't even happen to spawn on clients. And we can also replicate Blueprint function calls, which we will get into later as well.</span>
<span id="cb6-584"><a href="#cb6-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-585"><a href="#cb6-585" aria-hidden="true" tabindex="-1"></a><span class="fu">## Testing Multiplayer in Editor</span></span>
<span id="cb6-586"><a href="#cb6-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-587"><a href="#cb6-587" aria-hidden="true" tabindex="-1"></a>You can play your game in a multiplayer way. So, when you are in the editor, and you press on the side of the Play button, a drop-down appears allowing you to test multiplayer quickly. This way, you can set the Number of Clients to 2 or more. Then, if you press Play, you will get one or more windows running the game: one for each player.</span>
<span id="cb6-588"><a href="#cb6-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-589"><a href="#cb6-589" aria-hidden="true" tabindex="-1"></a>Go to Advanced Settings and change the default window size so that we can have multiple windows easily on the screen. Then, set the Number of Players to 2, and then when we run the game, select the New Editor Window play mode and play the game. You will see we have two Windows. At the top, one says Server and the other says Client.</span>
<span id="cb6-590"><a href="#cb6-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-591"><a href="#cb6-591" aria-hidden="true" tabindex="-1"></a>If you wanted to emulate a dedicated server, you actually can do that through here too. There is a checkbox that says, 'Launch Separate Server'. Then you can, if you want, change this down to 1 client. What you will see happens is when you play it, the window that pops up - even though there's only one, says it is a client because it is connected to a dedicated server emulation in the background.</span>
<span id="cb6-592"><a href="#cb6-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-593"><a href="#cb6-593" aria-hidden="true" tabindex="-1"></a><span class="fu"># Practical Examples</span></span>
<span id="cb6-594"><a href="#cb6-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-595"><a href="#cb6-595" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1. Actor Replication</span></span>
<span id="cb6-596"><a href="#cb6-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-597"><a href="#cb6-597" aria-hidden="true" tabindex="-1"></a>Actor replication is basically if an Actor replicates, when it is spawned on the server, that means it will be sent to all of the clients, all the remote machines, and they will be aware of that Actor's existence. However, if an Actor does not replicate, then the remote machines won't know about it when it spawns.</span>
<span id="cb6-598"><a href="#cb6-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-599"><a href="#cb6-599" aria-hidden="true" tabindex="-1"></a>To enable replication for any Actor that you want to display for every machine in the game, you must check the **Replicates** checkbox in the Actor's details panel under the Replication section. Anytime you want to spawn an Actor that will then handle networking correctly and be networked to all the machines that connect to the game, you want to make sure that you go ahead and check this checkbox.</span>
<span id="cb6-600"><a href="#cb6-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-601"><a href="#cb6-601" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2. Detecting Network Authority</span></span>
<span id="cb6-602"><a href="#cb6-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-603"><a href="#cb6-603" aria-hidden="true" tabindex="-1"></a>Basically, what you want to do is make sure that anything that is a gameplay important Actor, like ghosts or enemies, only gets spawned on the server. You can use the **Switch Has Authority** node to determine this.</span>
<span id="cb6-604"><a href="#cb6-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-605"><a href="#cb6-605" aria-hidden="true" tabindex="-1"></a>What this is basically checking is: is the Blueprint script that's executing right now, executing on a machine that is the network authority, or is it a remote machine? Now most use cases when you say "Authority", it's going to mean the server. This is basically, "am I the server, or am I a client?"</span>
<span id="cb6-606"><a href="#cb6-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-607"><a href="#cb6-607" aria-hidden="true" tabindex="-1"></a>The reason it doesn't just say server or client is because there are certain scenarios in which the server is not actually the authority over an Actor. A very good example of this is if you were making a UI and you add an Actor that was your HUD, then it's probably only spawned in the client and the server completely doesn't even care that it exists. In that case, the client has authority over the HUD because he owns it, he spawned it, and nobody else knows about it and nobody cares. But for almost every other scenario, the authority is going to be the server.</span>
<span id="cb6-608"><a href="#cb6-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-609"><a href="#cb6-609" aria-hidden="true" tabindex="-1"></a>You can use the Switch Has Authority to gate like, "I only want gameplay or things to happen on the server," versus "I only want them to happen on clients," or vice versa.</span>
<span id="cb6-610"><a href="#cb6-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-611"><a href="#cb6-611" aria-hidden="true" tabindex="-1"></a>The most common use case, and where you will see this node very often, is when you are doing something that is very gameplay important. So if we go all the way back to the shooter example again when a player is taking damage, or we're doing something that directly impacts how the game functions, that will usually be wrapped with one of these first that is making sure that it's only the authority who executes the code.</span>
<span id="cb6-612"><a href="#cb6-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-613"><a href="#cb6-613" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3. Variable Replication</span></span>
<span id="cb6-614"><a href="#cb6-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-615"><a href="#cb6-615" aria-hidden="true" tabindex="-1"></a>We will move from the concept of Actor replication to variable replication. So, we already decided that we want to replicate the ghost. We want the ghost Actor available to all the client machines. However, it doesn't always make sense to replicate every single piece of information that's possibly on the ghost. There is a lot of information that may be only the server needs to know about, or just other people completely don't care about. And so, you want to be able to set whether certain variables on an Actor are replicated or not.</span>
<span id="cb6-616"><a href="#cb6-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-617"><a href="#cb6-617" aria-hidden="true" tabindex="-1"></a>Variables that are important to gameplay should only be modified on the server (authority), but both server and clients can read them. The server modifies the value and then replication ensures clients receive the updated value.</span>
<span id="cb6-618"><a href="#cb6-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-619"><a href="#cb6-619" aria-hidden="true" tabindex="-1"></a>**Important:** When you change a value for a replicated variable, it will consider it for replication, but **it won't detect multiple changes within one frame**. So, if you changed Health from 100 to 80 and then immediately set Health back to 100 again, the client won't be aware that ever happened. Because at the end of the frame when it's considered for replication, it will say, "well I started at 100 and my current value is 100. No change has occurred; I don't need to tell the client machines about that."</span>
<span id="cb6-620"><a href="#cb6-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-621"><a href="#cb6-621" aria-hidden="true" tabindex="-1"></a><span class="fu">## 4. RepNotify</span></span>
<span id="cb6-622"><a href="#cb6-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-623"><a href="#cb6-623" aria-hidden="true" tabindex="-1"></a>**RepNotify** basically means, do everything that the replicated keyword does. But, in addition when that variable does change if somebody modifies it, give me a chance to respond to that. Allow me to call a function in response and do something with it.</span>
<span id="cb6-624"><a href="#cb6-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-625"><a href="#cb6-625" aria-hidden="true" tabindex="-1"></a>When you set a variable to RepNotify, it will automatically call a function named <span class="in">`OnRep_&lt;variable name&gt;`</span> that you can implement. This function will be called by the engine automatically on the client and the server whenever the value of this variable changes.</span>
<span id="cb6-626"><a href="#cb6-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-627"><a href="#cb6-627" aria-hidden="true" tabindex="-1"></a>This is a really handy and powerful way to do things where a gameplay thing changes and it should have associated visual effect changes with it also that the clients need to know about. You could make it RepNotify, if you want to be notified at the second it changes and then react accordingly.</span>
<span id="cb6-628"><a href="#cb6-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-629"><a href="#cb6-629" aria-hidden="true" tabindex="-1"></a>**Important Caveat:** If you happen to be a programmer or you are dealing with programmers who are doing replication in C++ and not through Blueprints, the behavior of the Notify is slightly different in Blueprints, in that the server when this is set, automatically calls this function. If you are coding things in C++, it is important to know the RepNotify function is not automatically called on the server. If you want it, you have to manually call it. In Blueprints, it is done as a convenience, so you don't have to worry about it.</span>
<span id="cb6-630"><a href="#cb6-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-631"><a href="#cb6-631" aria-hidden="true" tabindex="-1"></a><span class="fu">## 5. Function Call Replication</span></span>
<span id="cb6-632"><a href="#cb6-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-633"><a href="#cb6-633" aria-hidden="true" tabindex="-1"></a>Now we're going to go ahead and move on to function call replication. The general rule of thumb is:</span>
<span id="cb6-634"><a href="#cb6-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-635"><a href="#cb6-635" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If something should occur once and it's kind of a one-off event and it only needs to happen right away and only once, then **function call replication** is probably what you want (like if something explodes).</span>
<span id="cb6-636"><a href="#cb6-636" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If what you are changing is something that is going to change and should persist and should be available to clients for a while (like a streetlight switching between states of red, yellow, and green), then you probably want **Variable Replication**.</span>
<span id="cb6-637"><a href="#cb6-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-638"><a href="#cb6-638" aria-hidden="true" tabindex="-1"></a><span class="fu">### Multicast Functions</span></span>
<span id="cb6-639"><a href="#cb6-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-640"><a href="#cb6-640" aria-hidden="true" tabindex="-1"></a>A **Multicast** function means basically when this function is called on the server (you want to make sure you only call it on the server), what it will do is execute that event on the server. Then, it is going to tell all the client machines that they also need to call this event. So, then each individual client will get this event as well, and then they will run this code as well.</span>
<span id="cb6-641"><a href="#cb6-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-642"><a href="#cb6-642" aria-hidden="true" tabindex="-1"></a><span class="fu">### Reliable vs Unreliable</span></span>
<span id="cb6-643"><a href="#cb6-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-644"><a href="#cb6-644" aria-hidden="true" tabindex="-1"></a>Before we get into the other options in the drop-down, there's a checkbox that says **Reliable**. With functions, you get a choice on whether replication is reliable or not.</span>
<span id="cb6-645"><a href="#cb6-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-646"><a href="#cb6-646" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Reliable** events are guaranteed to reach their destination, but they use more bandwidth. Try to avoid sending reliable events too often. If your network bandwidth is full and there's just a lot of stuff going on, reliable events will still get through but may be delayed.</span>
<span id="cb6-647"><a href="#cb6-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-648"><a href="#cb6-648" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Unreliable** events may not reach their destination if network bandwidth is full or if there are more important things to send. Most cases where you're only doing something cosmetic, you would make these unreliable.</span>
<span id="cb6-649"><a href="#cb6-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-650"><a href="#cb6-650" aria-hidden="true" tabindex="-1"></a>When you make something Reliable, it will attempt to dispatch immediately. With Multicast, there is an engine feature that is guarding you from hurting yourself too badly. If you attempt to call one of these more than two times on the same actor in the same frame, it will start rejecting further calls to it until the next frame so that you can't completely flood your network.</span>
<span id="cb6-651"><a href="#cb6-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-652"><a href="#cb6-652" aria-hidden="true" tabindex="-1"></a><span class="fu">### Other Replication Options</span></span>
<span id="cb6-653"><a href="#cb6-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-654"><a href="#cb6-654" aria-hidden="true" tabindex="-1"></a>The other options in the replication dropdown are:</span>
<span id="cb6-655"><a href="#cb6-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-656"><a href="#cb6-656" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Run on Server**: A request from a client to run a function on the server</span>
<span id="cb6-657"><a href="#cb6-657" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Run on Owning Client**: A request from the server to run a function on a particular client that owns an Actor</span>
<span id="cb6-658"><a href="#cb6-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-659"><a href="#cb6-659" aria-hidden="true" tabindex="-1"></a>These are valid options for Actors that are owned by a Player Controller. For instance, a pawn that you control is owned by a Player Controller. The pawn or the Player Controller are both valid for these options.</span>
<span id="cb6-660"><a href="#cb6-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-661"><a href="#cb6-661" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6. Network Relevancy</span></span>
<span id="cb6-662"><a href="#cb6-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-663"><a href="#cb6-663" aria-hidden="true" tabindex="-1"></a>An important consideration in any network game is making content that handles some of the trickier edge cases in network play. For example, you've created your game, something is occurring and say an important gameplay event has occurred. Let's say a player has gotten a power-up that has mutated them into an enemy, like a crazy monster, but then after that happens, a different player joins the game. How do you make sure that player who joins the game in progress knows that that guy is a mutant, and can see everything the correct way?</span>
<span id="cb6-664"><a href="#cb6-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-665"><a href="#cb6-665" aria-hidden="true" tabindex="-1"></a><span class="fu">### Understanding Network Relevancy</span></span>
<span id="cb6-666"><a href="#cb6-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-667"><a href="#cb6-667" aria-hidden="true" tabindex="-1"></a>At its simplest terms, network relevancy determines if an actor is relevant to a particular machine or not, at a certain time. And if they are, you send the network updates for that machine.</span>
<span id="cb6-668"><a href="#cb6-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-669"><a href="#cb6-669" aria-hidden="true" tabindex="-1"></a>As an optimization, it's important to not send all network data to all machines, all the time, or else we wouldn't be able to support all the cool network content that we do. For example, if you're playing on a gigantic map and another player is all the way across the map and you can't even see them, you don't really need to know what they're doing if what they're doing doesn't directly affect you.</span>
<span id="cb6-670"><a href="#cb6-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-671"><a href="#cb6-671" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Problem with Function-Only Replication</span></span>
<span id="cb6-672"><a href="#cb6-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-673"><a href="#cb6-673" aria-hidden="true" tabindex="-1"></a>If you try to handle state changes (like opening a chest) with only a Multicast function, there's a problem: if a client isn't receiving network updates at the time (because the actor isn't relevant to them), they will miss the function call entirely. When they later come into range and start receiving updates, they won't know the state has changed.</span>
<span id="cb6-674"><a href="#cb6-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-675"><a href="#cb6-675" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Problem with Variable-Only Replication</span></span>
<span id="cb6-676"><a href="#cb6-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-677"><a href="#cb6-677" aria-hidden="true" tabindex="-1"></a>If you try to handle everything with RepNotify variables, clients who join later or come into range will get the correct state, but they'll also execute any associated effects (like particle effects for opening a chest) that should have only happened once when the event originally occurred.</span>
<span id="cb6-678"><a href="#cb6-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-679"><a href="#cb6-679" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Solution: Combined Approach</span></span>
<span id="cb6-680"><a href="#cb6-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-681"><a href="#cb6-681" aria-hidden="true" tabindex="-1"></a>The correct approach is to use **a combination of both replication strategies**:</span>
<span id="cb6-682"><a href="#cb6-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-683"><a href="#cb6-683" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Use a **RepNotify variable** to store persistent state (like whether a chest is open)</span>
<span id="cb6-684"><a href="#cb6-684" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Use a **Multicast function** to handle one-time visual effects (like particle bursts)</span>
<span id="cb6-685"><a href="#cb6-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-686"><a href="#cb6-686" aria-hidden="true" tabindex="-1"></a>When the event occurs on the server:</span>
<span id="cb6-687"><a href="#cb6-687" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Set the RepNotify variable (which opens the chest lid for all current clients)</span>
<span id="cb6-688"><a href="#cb6-688" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Call the Multicast function (which plays the particle effect for all current clients)</span>
<span id="cb6-689"><a href="#cb6-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-690"><a href="#cb6-690" aria-hidden="true" tabindex="-1"></a>When a client joins later or comes into range:</span>
<span id="cb6-691"><a href="#cb6-691" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>They receive the replicated variable and see the chest is open (correct state)</span>
<span id="cb6-692"><a href="#cb6-692" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>They don't see the particle effect (correct behavior - they missed the moment it was opened)</span>
<span id="cb6-693"><a href="#cb6-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-694"><a href="#cb6-694" aria-hidden="true" tabindex="-1"></a>This way, you're using a variable (which saves state) to control the only thing that should persist (whether the lid is open or not), and you're using a Multicast function for things that should only happen once and immediately (the gold particle effect).</span>
<span id="cb6-695"><a href="#cb6-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-696"><a href="#cb6-696" aria-hidden="true" tabindex="-1"></a><span class="fu"># Quick Reference Guide {#sec-quick-reference}</span></span>
<span id="cb6-697"><a href="#cb6-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-698"><a href="#cb6-698" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb6-699"><a href="#cb6-699" aria-hidden="true" tabindex="-1"></a><span class="fu">## 📋 Cheat Sheet</span></span>
<span id="cb6-700"><a href="#cb6-700" aria-hidden="true" tabindex="-1"></a>A condensed reference for common multiplayer Blueprint patterns and solutions.</span>
<span id="cb6-701"><a href="#cb6-701" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-702"><a href="#cb6-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-703"><a href="#cb6-703" aria-hidden="true" tabindex="-1"></a><span class="fu">## Replication Decision Tree</span></span>
<span id="cb6-704"><a href="#cb6-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-705"><a href="#cb6-705" aria-hidden="true" tabindex="-1"></a><span class="in">```mermaid</span></span>
<span id="cb6-706"><a href="#cb6-706" aria-hidden="true" tabindex="-1"></a>graph TD</span>
<span id="cb6-707"><a href="#cb6-707" aria-hidden="true" tabindex="-1"></a>    A[Need to Sync Data?] --&gt; B{One-<span class="fu">time</span> Event?}</span>
<span id="cb6-708"><a href="#cb6-708" aria-hidden="true" tabindex="-1"></a>    B --&gt;|Yes| C[Use Multicast RPC]</span>
<span id="cb6-709"><a href="#cb6-709" aria-hidden="true" tabindex="-1"></a>    B --&gt;|No| D{Persistent State?}</span>
<span id="cb6-710"><a href="#cb6-710" aria-hidden="true" tabindex="-1"></a>    D --&gt;|Yes| E[Use RepNotify Variable]</span>
<span id="cb6-711"><a href="#cb6-711" aria-hidden="true" tabindex="-1"></a>    D --&gt;|No| F[Use Replicated Variable]</span>
<span id="cb6-712"><a href="#cb6-712" aria-hidden="true" tabindex="-1"></a>    C --&gt; G{Visual Effects Only?}</span>
<span id="cb6-713"><a href="#cb6-713" aria-hidden="true" tabindex="-1"></a>    G --&gt;|Yes| H[Make Unreliable]</span>
<span id="cb6-714"><a href="#cb6-714" aria-hidden="true" tabindex="-1"></a>    G --&gt;|No| I[Make Reliable]</span>
<span id="cb6-715"><a href="#cb6-715" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-716"><a href="#cb6-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-717"><a href="#cb6-717" aria-hidden="true" tabindex="-1"></a><span class="fu">## Common Patterns</span></span>
<span id="cb6-718"><a href="#cb6-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-719"><a href="#cb6-719" aria-hidden="true" tabindex="-1"></a><span class="fu">### Pattern 1: Health System</span></span>
<span id="cb6-720"><a href="#cb6-720" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-721"><a href="#cb6-721" aria-hidden="true" tabindex="-1"></a><span class="in">Server:</span></span>
<span id="cb6-722"><a href="#cb6-722" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Authority Check</span></span>
<span id="cb6-723"><a href="#cb6-723" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Modify Health (RepNotify)</span></span>
<span id="cb6-724"><a href="#cb6-724" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Check Death Condition</span></span>
<span id="cb6-725"><a href="#cb6-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-726"><a href="#cb6-726" aria-hidden="true" tabindex="-1"></a><span class="in">Client (via RepNotify):</span></span>
<span id="cb6-727"><a href="#cb6-727" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Update UI</span></span>
<span id="cb6-728"><a href="#cb6-728" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Play Visual Effects</span></span>
<span id="cb6-729"><a href="#cb6-729" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-730"><a href="#cb6-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-731"><a href="#cb6-731" aria-hidden="true" tabindex="-1"></a><span class="fu">### Pattern 2: Item Pickup</span></span>
<span id="cb6-732"><a href="#cb6-732" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-733"><a href="#cb6-733" aria-hidden="true" tabindex="-1"></a><span class="in">Client:</span></span>
<span id="cb6-734"><a href="#cb6-734" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Overlap Event</span></span>
<span id="cb6-735"><a href="#cb6-735" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Call "RequestPickup" (Run on Server)</span></span>
<span id="cb6-736"><a href="#cb6-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-737"><a href="#cb6-737" aria-hidden="true" tabindex="-1"></a><span class="in">Server:</span></span>
<span id="cb6-738"><a href="#cb6-738" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Validate Pickup</span></span>
<span id="cb6-739"><a href="#cb6-739" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Remove Item from World</span></span>
<span id="cb6-740"><a href="#cb6-740" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Add to Inventory (Replicated)</span></span>
<span id="cb6-741"><a href="#cb6-741" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Call "PlayPickupEffect" (Multicast)</span></span>
<span id="cb6-742"><a href="#cb6-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-743"><a href="#cb6-743" aria-hidden="true" tabindex="-1"></a><span class="in">All Clients:</span></span>
<span id="cb6-744"><a href="#cb6-744" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Play Particle/Sound Effects</span></span>
<span id="cb6-745"><a href="#cb6-745" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-746"><a href="#cb6-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-747"><a href="#cb6-747" aria-hidden="true" tabindex="-1"></a><span class="fu">### Pattern 3: Weapon Fire</span></span>
<span id="cb6-748"><a href="#cb6-748" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-749"><a href="#cb6-749" aria-hidden="true" tabindex="-1"></a><span class="in">Owning Client:</span></span>
<span id="cb6-750"><a href="#cb6-750" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Input Event</span></span>
<span id="cb6-751"><a href="#cb6-751" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Play Local Effects (instant feedback)</span></span>
<span id="cb6-752"><a href="#cb6-752" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Call "ServerFire" (Run on Server)</span></span>
<span id="cb6-753"><a href="#cb6-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-754"><a href="#cb6-754" aria-hidden="true" tabindex="-1"></a><span class="in">Server:</span></span>
<span id="cb6-755"><a href="#cb6-755" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Validate Fire (ammo, cooldown)</span></span>
<span id="cb6-756"><a href="#cb6-756" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Spawn Projectile (Replicated Actor)</span></span>
<span id="cb6-757"><a href="#cb6-757" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Call "MulticastFireEffects"</span></span>
<span id="cb6-758"><a href="#cb6-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-759"><a href="#cb6-759" aria-hidden="true" tabindex="-1"></a><span class="in">All Clients:</span></span>
<span id="cb6-760"><a href="#cb6-760" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Play Muzzle Flash</span></span>
<span id="cb6-761"><a href="#cb6-761" aria-hidden="true" tabindex="-1"></a><span class="in">  ↓ Play Fire Sound</span></span>
<span id="cb6-762"><a href="#cb6-762" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-763"><a href="#cb6-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-764"><a href="#cb6-764" aria-hidden="true" tabindex="-1"></a><span class="fu">## Replication Checklist</span></span>
<span id="cb6-765"><a href="#cb6-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-766"><a href="#cb6-766" aria-hidden="true" tabindex="-1"></a><span class="fu">### Actor Setup</span></span>
<span id="cb6-767"><a href="#cb6-767" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Enable "Replicates" checkbox</span>
<span id="cb6-768"><a href="#cb6-768" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Set appropriate Network Priority</span>
<span id="cb6-769"><a href="#cb6-769" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Configure Net Update Frequency</span>
<span id="cb6-770"><a href="#cb6-770" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Enable/disable Movement Replication as needed</span>
<span id="cb6-771"><a href="#cb6-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-772"><a href="#cb6-772" aria-hidden="true" tabindex="-1"></a><span class="fu">### Variable Setup</span></span>
<span id="cb6-773"><a href="#cb6-773" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Choose appropriate replication type (None/Replicated/RepNotify)</span>
<span id="cb6-774"><a href="#cb6-774" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Only modify replicated variables on server</span>
<span id="cb6-775"><a href="#cb6-775" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Use RepNotify for variables that need response</span>
<span id="cb6-776"><a href="#cb6-776" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Keep replicated variable count minimal</span>
<span id="cb6-777"><a href="#cb6-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-778"><a href="#cb6-778" aria-hidden="true" tabindex="-1"></a><span class="fu">### Function Setup</span></span>
<span id="cb6-779"><a href="#cb6-779" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Choose appropriate replication type (Not Replicated/Multicast/Run on Server/Run on Owning Client)</span>
<span id="cb6-780"><a href="#cb6-780" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Set reliability (Reliable/Unreliable)</span>
<span id="cb6-781"><a href="#cb6-781" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Ensure proper ownership for RPC targets</span>
<span id="cb6-782"><a href="#cb6-782" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Add validation in Server RPCs</span>
<span id="cb6-783"><a href="#cb6-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-784"><a href="#cb6-784" aria-hidden="true" tabindex="-1"></a><span class="fu">## Common Issues &amp; Solutions</span></span>
<span id="cb6-785"><a href="#cb6-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-786"><a href="#cb6-786" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Issue <span class="pp">|</span> Cause <span class="pp">|</span> Solution <span class="pp">|</span></span>
<span id="cb6-787"><a href="#cb6-787" aria-hidden="true" tabindex="-1"></a><span class="pp">|-------|-------|----------|</span></span>
<span id="cb6-788"><a href="#cb6-788" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Actor not visible on client <span class="pp">|</span> Replicates not enabled <span class="pp">|</span> Check "Replicates" in actor defaults <span class="pp">|</span></span>
<span id="cb6-789"><a href="#cb6-789" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Variable not updating <span class="pp">|</span> Not set to replicate <span class="pp">|</span> Set replication to Replicated/RepNotify <span class="pp">|</span></span>
<span id="cb6-790"><a href="#cb6-790" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> RPC not firing <span class="pp">|</span> Wrong ownership/authority <span class="pp">|</span> Verify target actor ownership chain <span class="pp">|</span></span>
<span id="cb6-791"><a href="#cb6-791" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Visual effects play late <span class="pp">|</span> Using RepNotify for effects <span class="pp">|</span> Use Multicast RPC for immediate effects <span class="pp">|</span></span>
<span id="cb6-792"><a href="#cb6-792" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Join-in-progress broken <span class="pp">|</span> Only using Multicast RPCs <span class="pp">|</span> Use RepNotify for persistent state <span class="pp">|</span></span>
<span id="cb6-793"><a href="#cb6-793" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Bandwidth issues <span class="pp">|</span> Too many Reliable RPCs <span class="pp">|</span> Make cosmetic RPCs Unreliable <span class="pp">|</span></span>
<span id="cb6-794"><a href="#cb6-794" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Client can cheat <span class="pp">|</span> Logic on client side <span class="pp">|</span> Move important logic to server <span class="pp">|</span></span>
<span id="cb6-795"><a href="#cb6-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-796"><a href="#cb6-796" aria-hidden="true" tabindex="-1"></a><span class="fu">## Blueprint Node Quick Access</span></span>
<span id="cb6-797"><a href="#cb6-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-798"><a href="#cb6-798" aria-hidden="true" tabindex="-1"></a><span class="fu">### Essential Nodes</span></span>
<span id="cb6-799"><a href="#cb6-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-800"><a href="#cb6-800" aria-hidden="true" tabindex="-1"></a>**Authority:**</span>
<span id="cb6-801"><a href="#cb6-801" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Switch Has Authority`</span> - Branch between server and client</span>
<span id="cb6-802"><a href="#cb6-802" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Has Authority`</span> - Boolean check for authority</span>
<span id="cb6-803"><a href="#cb6-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-804"><a href="#cb6-804" aria-hidden="true" tabindex="-1"></a>**Replication:**</span>
<span id="cb6-805"><a href="#cb6-805" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`SET w/ Notify`</span> - Set a RepNotify variable</span>
<span id="cb6-806"><a href="#cb6-806" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Replicated To All (if server)`</span> - Multicast event call</span>
<span id="cb6-807"><a href="#cb6-807" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Run on Server`</span> - Server RPC call</span>
<span id="cb6-808"><a href="#cb6-808" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Run on Owning Client`</span> - Client RPC call</span>
<span id="cb6-809"><a href="#cb6-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-810"><a href="#cb6-810" aria-hidden="true" tabindex="-1"></a>**Ownership:**</span>
<span id="cb6-811"><a href="#cb6-811" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Is Locally Controlled`</span> - Check if pawn is owned by local player</span>
<span id="cb6-812"><a href="#cb6-812" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Get Owner`</span> - Get owning actor</span>
<span id="cb6-813"><a href="#cb6-813" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Get Player Controller`</span> - Get controller</span>
<span id="cb6-814"><a href="#cb6-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-815"><a href="#cb6-815" aria-hidden="true" tabindex="-1"></a><span class="fu">## Performance Tips</span></span>
<span id="cb6-816"><a href="#cb6-816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-817"><a href="#cb6-817" aria-hidden="true" tabindex="-1"></a>::: {.panel-tabset}</span>
<span id="cb6-818"><a href="#cb6-818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-819"><a href="#cb6-819" aria-hidden="true" tabindex="-1"></a><span class="fu">## Bandwidth</span></span>
<span id="cb6-820"><a href="#cb6-820" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Minimize replicated variables</span>
<span id="cb6-821"><a href="#cb6-821" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use RepNotify sparingly</span>
<span id="cb6-822"><a href="#cb6-822" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Make cosmetic RPCs unreliable</span>
<span id="cb6-823"><a href="#cb6-823" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Batch updates when possible</span>
<span id="cb6-824"><a href="#cb6-824" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use appropriate Net Update Frequency</span>
<span id="cb6-825"><a href="#cb6-825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-826"><a href="#cb6-826" aria-hidden="true" tabindex="-1"></a><span class="fu">## CPU</span></span>
<span id="cb6-827"><a href="#cb6-827" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Enable network dormancy</span>
<span id="cb6-828"><a href="#cb6-828" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use distance-based relevancy</span>
<span id="cb6-829"><a href="#cb6-829" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Optimize tick functions</span>
<span id="cb6-830"><a href="#cb6-830" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Cache expensive calculations</span>
<span id="cb6-831"><a href="#cb6-831" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use timers instead of tick when possible</span>
<span id="cb6-832"><a href="#cb6-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-833"><a href="#cb6-833" aria-hidden="true" tabindex="-1"></a><span class="fu">## Memory</span></span>
<span id="cb6-834"><a href="#cb6-834" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Clean up destroyed actors properly</span>
<span id="cb6-835"><a href="#cb6-835" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use object pooling for frequently spawned actors</span>
<span id="cb6-836"><a href="#cb6-836" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Unload unused assets</span>
<span id="cb6-837"><a href="#cb6-837" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Monitor actor count</span>
<span id="cb6-838"><a href="#cb6-838" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-839"><a href="#cb6-839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-840"><a href="#cb6-840" aria-hidden="true" tabindex="-1"></a><span class="fu">## Testing Workflow</span></span>
<span id="cb6-841"><a href="#cb6-841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-842"><a href="#cb6-842" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Editor Testing**</span>
<span id="cb6-843"><a href="#cb6-843" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Use "Number of Players" in Play settings</span>
<span id="cb6-844"><a href="#cb6-844" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Test with both Listen Server and Dedicated Server modes</span>
<span id="cb6-845"><a href="#cb6-845" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Use "Launch Separate Server" option</span>
<span id="cb6-846"><a href="#cb6-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-847"><a href="#cb6-847" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Network Emulation**</span>
<span id="cb6-848"><a href="#cb6-848" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Enable network emulation in settings</span>
<span id="cb6-849"><a href="#cb6-849" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Test with artificial latency (100-200ms)</span>
<span id="cb6-850"><a href="#cb6-850" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Test with packet loss (1-5%)</span>
<span id="cb6-851"><a href="#cb6-851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-852"><a href="#cb6-852" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Debug Visualization**</span>
<span id="cb6-853"><a href="#cb6-853" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Use <span class="in">`Print String`</span> with different colors for server/client</span>
<span id="cb6-854"><a href="#cb6-854" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Enable network debugging console commands</span>
<span id="cb6-855"><a href="#cb6-855" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Check Replication Graph in editor</span>
<span id="cb6-856"><a href="#cb6-856" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-857"><a href="#cb6-857" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Common Console Commands**</span>
<span id="cb6-858"><a href="#cb6-858" aria-hidden="true" tabindex="-1"></a>   <span class="in">```</span></span>
<span id="cb6-859"><a href="#cb6-859" aria-hidden="true" tabindex="-1"></a><span class="in">   NetEmulation.PktLoss 5        // 5% packet loss</span></span>
<span id="cb6-860"><a href="#cb6-860" aria-hidden="true" tabindex="-1"></a><span class="in">   NetEmulation.PktLatency 100   // 100ms latency</span></span>
<span id="cb6-861"><a href="#cb6-861" aria-hidden="true" tabindex="-1"></a><span class="in">   stat net                       // Network statistics</span></span>
<span id="cb6-862"><a href="#cb6-862" aria-hidden="true" tabindex="-1"></a><span class="in">   log LogNetPlayerMovement Verbose  // Movement logging</span></span>
<span id="cb6-863"><a href="#cb6-863" aria-hidden="true" tabindex="-1"></a><span class="in">   ```</span></span>
<span id="cb6-864"><a href="#cb6-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-865"><a href="#cb6-865" aria-hidden="true" tabindex="-1"></a><span class="fu">## Resources</span></span>
<span id="cb6-866"><a href="#cb6-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-867"><a href="#cb6-867" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Official UE Documentation</span><span class="co">](https://docs.unrealengine.com/en-US/InteractiveExperiences/Networking/)</span></span>
<span id="cb6-868"><a href="#cb6-868" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Network Compendium</span><span class="co">](https://cedric-neukirchen.net/docs/category/multiplayer-network-compendium)</span></span>
<span id="cb6-869"><a href="#cb6-869" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">UE Forums - Multiplayer</span><span class="co">](https://forums.unrealengine.com/c/multiplayer-networking/)</span></span>
<span id="cb6-870"><a href="#cb6-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-871"><a href="#cb6-871" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb6-872"><a href="#cb6-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-873"><a href="#cb6-873" aria-hidden="true" tabindex="-1"></a><span class="fu"># Exercises {#sec-exercises}</span></span>
<span id="cb6-874"><a href="#cb6-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-875"><a href="#cb6-875" aria-hidden="true" tabindex="-1"></a>::: {.callout-note icon=true}</span>
<span id="cb6-876"><a href="#cb6-876" aria-hidden="true" tabindex="-1"></a><span class="fu">## 🎯 Assignment Tasks</span></span>
<span id="cb6-877"><a href="#cb6-877" aria-hidden="true" tabindex="-1"></a>Using what you have learned throughout this assignment, complete the following practical exercises to demonstrate your understanding of multiplayer in Blueprints.</span>
<span id="cb6-878"><a href="#cb6-878" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-879"><a href="#cb6-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-880"><a href="#cb6-880" aria-hidden="true" tabindex="-1"></a><span class="fu">## Exercise Requirements</span></span>
<span id="cb6-881"><a href="#cb6-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-882"><a href="#cb6-882" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1. Project Setup 🎮</span></span>
<span id="cb6-883"><a href="#cb6-883" aria-hidden="true" tabindex="-1"></a>Create a new project based on the **First-Person template**</span>
<span id="cb6-884"><a href="#cb6-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-885"><a href="#cb6-885" aria-hidden="true" tabindex="-1"></a>**Deliverables:**</span>
<span id="cb6-886"><a href="#cb6-886" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>New UE5 project</span>
<span id="cb6-887"><a href="#cb6-887" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Properly configured for multiplayer development</span>
<span id="cb6-888"><a href="#cb6-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-889"><a href="#cb6-889" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb6-890"><a href="#cb6-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-891"><a href="#cb6-891" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2. Multiplayer Configuration 👥</span></span>
<span id="cb6-892"><a href="#cb6-892" aria-hidden="true" tabindex="-1"></a>Set the project to run with **two players**</span>
<span id="cb6-893"><a href="#cb6-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-894"><a href="#cb6-894" aria-hidden="true" tabindex="-1"></a>**Tasks:**</span>
<span id="cb6-895"><a href="#cb6-895" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Configure Play settings in editor</span>
<span id="cb6-896"><a href="#cb6-896" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Enable proper network modes</span>
<span id="cb6-897"><a href="#cb6-897" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Test with both listen server and client</span>
<span id="cb6-898"><a href="#cb6-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-899"><a href="#cb6-899" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb6-900"><a href="#cb6-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-901"><a href="#cb6-901" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3. Character Visualization 🏃</span></span>
<span id="cb6-902"><a href="#cb6-902" aria-hidden="true" tabindex="-1"></a>Add the **Animation Starter Pack** to the project so each character can have a full body skeletal mesh</span>
<span id="cb6-903"><a href="#cb6-903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-904"><a href="#cb6-904" aria-hidden="true" tabindex="-1"></a>**Requirements:**</span>
<span id="cb6-905"><a href="#cb6-905" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Download Animation Starter Pack from Epic Marketplace</span>
<span id="cb6-906"><a href="#cb6-906" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Integrate animations with character blueprint</span>
<span id="cb6-907"><a href="#cb6-907" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Ensure animations work for both server and clients</span>
<span id="cb6-908"><a href="#cb6-908" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Verify skeletal mesh visibility across network</span>
<span id="cb6-909"><a href="#cb6-909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-910"><a href="#cb6-910" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb6-911"><a href="#cb6-911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-912"><a href="#cb6-912" aria-hidden="true" tabindex="-1"></a><span class="fu">### 4. Projectile Replication 🔫</span></span>
<span id="cb6-913"><a href="#cb6-913" aria-hidden="true" tabindex="-1"></a>Make the projectiles appear on **both sides**</span>
<span id="cb6-914"><a href="#cb6-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-915"><a href="#cb6-915" aria-hidden="true" tabindex="-1"></a>**Implementation Checklist:**</span>
<span id="cb6-916"><a href="#cb6-916" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Enable actor replication on projectile blueprint</span>
<span id="cb6-917"><a href="#cb6-917" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Test projectile spawning on server</span>
<span id="cb6-918"><a href="#cb6-918" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Verify projectile visibility on all clients</span>
<span id="cb6-919"><a href="#cb6-919" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Ensure proper collision detection across network</span>
<span id="cb6-920"><a href="#cb6-920" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="va">[ ]</span> Implement synchronized visual effects</span>
<span id="cb6-921"><a href="#cb6-921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-922"><a href="#cb6-922" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb6-923"><a href="#cb6-923" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-924"><a href="#cb6-924" aria-hidden="true" tabindex="-1"></a><span class="fu">### 5. Combat System 💥</span></span>
<span id="cb6-925"><a href="#cb6-925" aria-hidden="true" tabindex="-1"></a>Implement a **health system, collision and headshots**</span>
<span id="cb6-926"><a href="#cb6-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-927"><a href="#cb6-927" aria-hidden="true" tabindex="-1"></a>**Components to Implement:**</span>
<span id="cb6-928"><a href="#cb6-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-929"><a href="#cb6-929" aria-hidden="true" tabindex="-1"></a>::: {.panel-tabset}</span>
<span id="cb6-930"><a href="#cb6-930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-931"><a href="#cb6-931" aria-hidden="true" tabindex="-1"></a><span class="fu">## Health System</span></span>
<span id="cb6-932"><a href="#cb6-932" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Create replicated health variable</span>
<span id="cb6-933"><a href="#cb6-933" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Implement damage application on server</span>
<span id="cb6-934"><a href="#cb6-934" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use RepNotify for health UI updates</span>
<span id="cb6-935"><a href="#cb6-935" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Handle death/respawn logic</span>
<span id="cb6-936"><a href="#cb6-936" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-937"><a href="#cb6-937" aria-hidden="true" tabindex="-1"></a><span class="fu">## Collision Detection</span></span>
<span id="cb6-938"><a href="#cb6-938" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Configure proper collision channels</span>
<span id="cb6-939"><a href="#cb6-939" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Implement hit detection on server</span>
<span id="cb6-940"><a href="#cb6-940" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Replicate hit events to clients</span>
<span id="cb6-941"><a href="#cb6-941" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Add visual feedback for hits</span>
<span id="cb6-942"><a href="#cb6-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-943"><a href="#cb6-943" aria-hidden="true" tabindex="-1"></a><span class="fu">## Headshot Mechanics</span></span>
<span id="cb6-944"><a href="#cb6-944" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Detect headshot collisions</span>
<span id="cb6-945"><a href="#cb6-945" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Apply multiplied damage for headshots</span>
<span id="cb6-946"><a href="#cb6-946" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Create special effects for headshots</span>
<span id="cb6-947"><a href="#cb6-947" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Display headshot indicators</span>
<span id="cb6-948"><a href="#cb6-948" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-949"><a href="#cb6-949" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-950"><a href="#cb6-950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-951"><a href="#cb6-951" aria-hidden="true" tabindex="-1"></a><span class="fu">## Grading Criteria</span></span>
<span id="cb6-952"><a href="#cb6-952" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-953"><a href="#cb6-953" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Component <span class="pp">|</span> Weight <span class="pp">|</span> Criteria <span class="pp">|</span></span>
<span id="cb6-954"><a href="#cb6-954" aria-hidden="true" tabindex="-1"></a><span class="pp">|-----------|--------|----------|</span></span>
<span id="cb6-955"><a href="#cb6-955" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Project Setup <span class="pp">|</span> 10% <span class="pp">|</span> Correct template usage, multiplayer configuration <span class="pp">|</span></span>
<span id="cb6-956"><a href="#cb6-956" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Network Configuration <span class="pp">|</span> 15% <span class="pp">|</span> Proper server/client setup, testing methodology <span class="pp">|</span></span>
<span id="cb6-957"><a href="#cb6-957" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Character Integration <span class="pp">|</span> 20% <span class="pp">|</span> Animation pack integration, network visibility <span class="pp">|</span></span>
<span id="cb6-958"><a href="#cb6-958" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Projectile Replication <span class="pp">|</span> 25% <span class="pp">|</span> Correct replication, synchronized effects <span class="pp">|</span></span>
<span id="cb6-959"><a href="#cb6-959" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Combat System <span class="pp">|</span> 30% <span class="pp">|</span> Complete health system, proper collision, headshot implementation <span class="pp">|</span></span>
<span id="cb6-960"><a href="#cb6-960" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-961"><a href="#cb6-961" aria-hidden="true" tabindex="-1"></a>: Assignment Grading Rubric {#tbl-grading}</span>
<span id="cb6-962"><a href="#cb6-962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-963"><a href="#cb6-963" aria-hidden="true" tabindex="-1"></a><span class="fu">## Submission Guidelines</span></span>
<span id="cb6-964"><a href="#cb6-964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-965"><a href="#cb6-965" aria-hidden="true" tabindex="-1"></a>::: {.callout-important}</span>
<span id="cb6-966"><a href="#cb6-966" aria-hidden="true" tabindex="-1"></a><span class="fu">## 📦 Submission Requirements</span></span>
<span id="cb6-967"><a href="#cb6-967" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-968"><a href="#cb6-968" aria-hidden="true" tabindex="-1"></a>**Include:**</span>
<span id="cb6-969"><a href="#cb6-969" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Complete project folder (or GitHub repository link)</span>
<span id="cb6-970"><a href="#cb6-970" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Documentation explaining your implementation</span>
<span id="cb6-971"><a href="#cb6-971" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Video demonstration of multiplayer functionality</span>
<span id="cb6-972"><a href="#cb6-972" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Screenshots showing key features working</span>
<span id="cb6-973"><a href="#cb6-973" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-974"><a href="#cb6-974" aria-hidden="true" tabindex="-1"></a>**Deadline:** As specified by your instructor</span>
<span id="cb6-975"><a href="#cb6-975" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-976"><a href="#cb6-976" aria-hidden="true" tabindex="-1"></a>**Format:** ZIP file or repository link submitted via course platform</span>
<span id="cb6-977"><a href="#cb6-977" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-978"><a href="#cb6-978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-979"><a href="#cb6-979" aria-hidden="true" tabindex="-1"></a><span class="fu">## Additional Challenges (Optional)</span></span>
<span id="cb6-980"><a href="#cb6-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-981"><a href="#cb6-981" aria-hidden="true" tabindex="-1"></a>For students seeking extra credit:</span>
<span id="cb6-982"><a href="#cb6-982" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-983"><a href="#cb6-983" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🏆 Implement a respawn system with spawn points</span>
<span id="cb6-984"><a href="#cb6-984" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🎨 Add custom visual effects for different weapon types</span>
<span id="cb6-985"><a href="#cb6-985" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>📊 Create a scoreboard showing kills/deaths</span>
<span id="cb6-986"><a href="#cb6-986" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🔊 Add networked audio feedback</span>
<span id="cb6-987"><a href="#cb6-987" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>🛡️ Implement an armor/shield system</span>
<span id="cb6-988"><a href="#cb6-988" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-989"><a href="#cb6-989" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb6-990"><a href="#cb6-990" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-991"><a href="#cb6-991" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip}</span>
<span id="cb6-992"><a href="#cb6-992" aria-hidden="true" tabindex="-1"></a><span class="fu">## 💭 Final Thoughts</span></span>
<span id="cb6-993"><a href="#cb6-993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-994"><a href="#cb6-994" aria-hidden="true" tabindex="-1"></a>Remember the key principles:</span>
<span id="cb6-995"><a href="#cb6-995" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Server Authority** - Important gameplay decisions happen on the server</span>
<span id="cb6-996"><a href="#cb6-996" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**RepNotify for State** - Use replicated variables for persistent data</span>
<span id="cb6-997"><a href="#cb6-997" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Multicast for Events** - Use multicast functions for one-time visual effects</span>
<span id="cb6-998"><a href="#cb6-998" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Test Early and Often** - Test with multiple clients regularly during development</span>
<span id="cb6-999"><a href="#cb6-999" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb6-1000"><a href="#cb6-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-1001"><a href="#cb6-1001" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb6-1002"><a href="#cb6-1002" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




<script src="multiplayer-blueprints_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>